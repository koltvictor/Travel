{"ast":null,"code":"/**!\n * lg-zoom.js | 1.3.0 | October 14th 2020\n * http://sachinchoolur.github.io/lg-zoom.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n    g.LgZoom = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n        return n[i].exports;\n      }\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n      return o;\n    }\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      (function (global, factory) {\n        if (typeof define === \"function\" && define.amd) {\n          define([], factory);\n        } else if (typeof exports !== \"undefined\") {\n          factory();\n        } else {\n          var mod = {\n            exports: {}\n          };\n          factory();\n          global.lgZoom = mod.exports;\n        }\n      })(this, function () {\n        'use strict';\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n            for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }\n          return target;\n        };\n        var getUseLeft = function getUseLeft() {\n          var useLeft = false;\n          var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n          if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n          }\n          return useLeft;\n        };\n        var zoomDefaults = {\n          scale: 1,\n          zoom: true,\n          actualSize: true,\n          enableZoomAfter: 300,\n          useLeftForZoom: getUseLeft()\n        };\n        var Zoom = function Zoom(element) {\n          this.el = element;\n          this.core = window.lgData[this.el.getAttribute('lg-uid')];\n          this.core.s = _extends({}, zoomDefaults, this.core.s);\n          if (this.core.s.zoom && this.core.doCss()) {\n            this.init();\n\n            // Store the zoomable timeout value just to clear it while closing\n            this.zoomabletimeout = false;\n\n            // Set the initial value center\n            this.pageX = window.innerWidth / 2;\n            this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n          }\n          return this;\n        };\n        Zoom.prototype.init = function () {\n          var _this = this;\n          var zoomIcons = '<button type=\"button\" aria-label=\"Zoom in\" id=\"lg-zoom-in\" class=\"lg-icon\"></button><button type=\"button\" aria-label=\"Zoom out\" id=\"lg-zoom-out\" class=\"lg-icon\"></button>';\n          if (_this.core.s.actualSize) {\n            zoomIcons += '<button type=\"button\" aria-label=\"Actual size\" id=\"lg-actual-size\" class=\"lg-icon\"></button>';\n          }\n          if (_this.core.s.useLeftForZoom) {\n            utils.addClass(_this.core.outer, 'lg-use-left-for-zoom');\n          } else {\n            utils.addClass(_this.core.outer, 'lg-use-transition-for-zoom');\n          }\n          this.core.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', zoomIcons);\n\n          // Add zoomable class\n          utils.on(_this.core.el, 'onSlideItemLoad.lgtmzoom', function (event) {\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + event.detail.delay;\n\n            // set _speed value 0 if gallery opened from direct url and if it is first slide\n            if (utils.hasClass(document.body, 'lg-from-hash') && event.detail.delay) {\n              // will execute only once\n              _speed = 0;\n            } else {\n              // Remove lg-from-hash to enable starting animation.\n              utils.removeClass(document.body, 'lg-from-hash');\n            }\n            _this.zoomabletimeout = setTimeout(function () {\n              utils.addClass(_this.core.___slide[event.detail.index], 'lg-zoomable');\n            }, _speed + 30);\n          });\n          var scale = 1;\n          /**\n           * @desc Image zoom\n           * Translate the wrap and scale the image to get better user experience\n           *\n           * @param {String} scaleVal - Zoom decrement/increment value\n           */\n          var zoom = function zoom(scaleVal) {\n            var image = _this.core.outer.querySelector('.lg-current .lg-image');\n            var _x;\n            var _y;\n\n            // Find offset manually to avoid issue after zoom\n            var offsetX = (window.innerWidth - image.clientWidth) / 2;\n            var offsetY = (window.innerHeight - image.clientHeight) / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n            var x = (scaleVal - 1) * _x;\n            var y = (scaleVal - 1) * _y;\n            utils.setVendor(image, 'Transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)');\n            image.setAttribute('data-scale', scaleVal);\n            if (_this.core.s.useLeftForZoom) {\n              image.parentElement.style.left = -x + 'px';\n              image.parentElement.style.top = -y + 'px';\n            } else {\n              utils.setVendor(image.parentElement, 'Transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)');\n            }\n            image.parentElement.setAttribute('data-x', x);\n            image.parentElement.setAttribute('data-y', y);\n          };\n          var callScale = function callScale() {\n            if (scale > 1) {\n              utils.addClass(_this.core.outer, 'lg-zoomed');\n            } else {\n              _this.resetZoom();\n            }\n            if (scale < 1) {\n              scale = 1;\n            }\n            zoom(scale);\n          };\n          var actualSize = function actualSize(event, image, index, fromIcon) {\n            var w = image.clientWidth;\n            var nw;\n            if (_this.core.s.dynamic) {\n              nw = _this.core.s.dynamicEl[index].width || image.naturalWidth || w;\n            } else {\n              nw = _this.core.items[index].getAttribute('data-width') || image.naturalWidth || w;\n            }\n            var _scale;\n            if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n              scale = 1;\n            } else {\n              if (nw > w) {\n                _scale = nw / w;\n                scale = _scale || 2;\n              }\n            }\n            if (fromIcon) {\n              _this.pageX = window.innerWidth / 2;\n              _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            } else {\n              _this.pageX = event.pageX || event.targetTouches[0].pageX;\n              _this.pageY = event.pageY || event.targetTouches[0].pageY;\n            }\n            callScale();\n            setTimeout(function () {\n              utils.removeClass(_this.core.outer, 'lg-grabbing');\n              utils.addClass(_this.core.outer, 'lg-grab');\n            }, 10);\n          };\n          var tapped = false;\n\n          // event triggered after appending slide content\n          utils.on(_this.core.el, 'onAferAppendSlide.lgtmzoom', function (event) {\n            var index = event.detail.index;\n\n            // Get the current element\n            var image = _this.core.___slide[index].querySelector('.lg-image');\n            if (!_this.core.isTouch) {\n              utils.on(image, 'dblclick', function (event) {\n                actualSize(event, image, index);\n              });\n            }\n            if (_this.core.isTouch) {\n              utils.on(image, 'touchstart', function (event) {\n                if (!tapped) {\n                  tapped = setTimeout(function () {\n                    tapped = null;\n                  }, 300);\n                } else {\n                  clearTimeout(tapped);\n                  tapped = null;\n                  actualSize(event, image, index);\n                }\n                event.preventDefault();\n              });\n            }\n          });\n\n          // Update zoom on resize and orientationchange\n          utils.on(window, 'resize.lgzoom scroll.lgzoom orientationchange.lgzoom', function () {\n            _this.pageX = window.innerWidth / 2;\n            _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            zoom(scale);\n          });\n          utils.on(document.getElementById('lg-zoom-out'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n              scale -= _this.core.s.scale;\n              callScale();\n            }\n          });\n          utils.on(document.getElementById('lg-zoom-in'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n              scale += _this.core.s.scale;\n              callScale();\n            }\n          });\n          utils.on(document.getElementById('lg-actual-size'), 'click.lg', function (event) {\n            actualSize(event, _this.core.___slide[_this.core.index].querySelector('.lg-image'), _this.core.index, true);\n          });\n\n          // Reset zoom on slide change\n          utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            scale = 1;\n            _this.resetZoom();\n          });\n\n          // Drag option after zoom\n          if (!_this.core.isTouch) {\n            _this.zoomDrag();\n          }\n          if (_this.core.isTouch) {\n            _this.zoomSwipe();\n          }\n        };\n        Zoom.prototype.getModifier = function (rotateValue, axis, el) {\n          var originalRotate = rotateValue;\n          rotateValue = Math.abs(rotateValue);\n          var transformValues = this.getCurrentTransform(el);\n          if (!transformValues) {\n            return 1;\n          }\n          var modifier = 1;\n          if (axis === 'X') {\n            var flipHorizontalValue = Math.sign(parseFloat(transformValues[0]));\n            if (rotateValue === 0 || rotateValue === 180) {\n              modifier = 1;\n            } else if (rotateValue === 90) {\n              if (originalRotate === -90 && flipHorizontalValue === 1 || originalRotate === 90 && flipHorizontalValue === -1) {\n                modifier = -1;\n              } else {\n                modifier = 1;\n              }\n            }\n            modifier = modifier * flipHorizontalValue;\n          } else {\n            var flipVerticalValue = Math.sign(parseFloat(transformValues[3]));\n            if (rotateValue === 0 || rotateValue === 180) {\n              modifier = 1;\n            } else if (rotateValue === 90) {\n              var sinX = parseFloat(transformValues[1]);\n              var sinMinusX = parseFloat(transformValues[2]);\n              modifier = Math.sign(sinX * sinMinusX * originalRotate * flipVerticalValue);\n            }\n            modifier = modifier * flipVerticalValue;\n          }\n          return modifier;\n        };\n        Zoom.prototype.getImageSize = function ($image, rotateValue, axis) {\n          var imageSizes = {\n            y: 'offsetHeight',\n            x: 'offsetWidth'\n          };\n          if (rotateValue === 90) {\n            // Swap axis \n            if (axis === 'x') {\n              axis = 'y';\n            } else {\n              axis = 'x';\n            }\n          }\n          return $image[imageSizes[axis]];\n        };\n        Zoom.prototype.getDragCords = function (e, rotateValue) {\n          if (rotateValue === 90) {\n            return {\n              x: e.pageY,\n              y: e.pageX\n            };\n          } else {\n            return {\n              x: e.pageX,\n              y: e.pageY\n            };\n          }\n        };\n        Zoom.prototype.getSwipeCords = function (e, rotateValue) {\n          var x = e.targetTouches[0].pageX;\n          var y = e.targetTouches[0].pageY;\n          if (rotateValue === 90) {\n            return {\n              x: y,\n              y: x\n            };\n          } else {\n            return {\n              x: x,\n              y: y\n            };\n          }\n        };\n        Zoom.prototype.getPossibleDragCords = function ($image, rotateValue) {\n          var minY = (this.core.outer.querySelector('.lg').clientHeight - this.getImageSize($image, rotateValue, 'y')) / 2;\n          var maxY = Math.abs(this.getImageSize($image, rotateValue, 'y') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientHeight + minY);\n          var minX = (this.core.outer.querySelector('.lg').clientWidth - this.getImageSize($image, rotateValue, 'x')) / 2;\n          var maxX = Math.abs(this.getImageSize($image, rotateValue, 'x') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientWidth + minX);\n          if (rotateValue === 90) {\n            return {\n              minY: minX,\n              maxY: maxX,\n              minX: minY,\n              maxX: maxY\n            };\n          } else {\n            return {\n              minY: minY,\n              maxY: maxY,\n              minX: minX,\n              maxX: maxX\n            };\n          }\n        };\n        Zoom.prototype.getDragAllowedAxises = function ($image, rotateValue) {\n          var allowY = this.getImageSize($image, rotateValue, 'y') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientHeight;\n          var allowX = this.getImageSize($image, rotateValue, 'x') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientWidth;\n          if (rotateValue === 90) {\n            return {\n              allowX: allowY,\n              allowY: allowX\n            };\n          } else {\n            return {\n              allowX: allowX,\n              allowY: allowY\n            };\n          }\n        };\n\n        /**\n         * \n         * @param {Element} el \n         * @return matrix(cos(X), sin(X), -sin(X), cos(X), 0, 0);\n         * Get the current transform value\n         */\n        Zoom.prototype.getCurrentTransform = function (el) {\n          if (!el) {\n            return 0;\n          }\n          var st = window.getComputedStyle(el, null);\n          var tm = st.getPropertyValue('-webkit-transform') || st.getPropertyValue('-moz-transform') || st.getPropertyValue('-ms-transform') || st.getPropertyValue('-o-transform') || st.getPropertyValue('transform') || 'none';\n          if (tm !== 'none') {\n            return tm.split('(')[1].split(')')[0].split(',');\n          }\n          return 0;\n        };\n        Zoom.prototype.getCurrentRotation = function (el) {\n          if (!el) {\n            return 0;\n          }\n          var values = this.getCurrentTransform(el);\n          if (values) {\n            return Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n            // If you want rotate in 360\n            //return (angle < 0 ? angle + 360 : angle);\n          }\n\n          return 0;\n        };\n\n        // Reset zoom effect\n        Zoom.prototype.resetZoom = function () {\n          utils.removeClass(this.core.outer, 'lg-zoomed');\n          for (var i = 0; i < this.core.___slide.length; i++) {\n            if (this.core.___slide[i].querySelector('.lg-img-wrap')) {\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('style');\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-x');\n              this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-y');\n            }\n          }\n          for (var j = 0; j < this.core.___slide.length; j++) {\n            if (this.core.___slide[j].querySelector('.lg-image')) {\n              this.core.___slide[j].querySelector('.lg-image').removeAttribute('style');\n              this.core.___slide[j].querySelector('.lg-image').removeAttribute('data-scale');\n            }\n          }\n\n          // Reset pagx pagy values to center\n          this.pageX = window.innerWidth / 2;\n          this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n        };\n        Zoom.prototype.zoomSwipe = function () {\n          var _this = this;\n          var startCoords = {};\n          var endCoords = {};\n          var isMoved = false;\n\n          // Allow x direction drag\n          var allowX = false;\n\n          // Allow Y direction drag\n          var allowY = false;\n          var rotateValue = 0;\n          var rotateEl;\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'touchstart.lg', function (e) {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n                rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                rotateValue = _this.getCurrentRotation(rotateEl);\n                var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                allowY = dragAllowedAxises.allowY;\n                allowX = dragAllowedAxises.allowX;\n                if (allowX || allowY) {\n                  e.preventDefault();\n                  startCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n                }\n              }\n            });\n          }\n          for (var j = 0; j < _this.core.___slide.length; j++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[j], 'touchmove.lg', function (e) {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n                e.preventDefault();\n                isMoved = true;\n                endCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n\n                // reset opacity and transition duration\n                utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n                if (allowY) {\n                  distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                } else {\n                  distanceY = -Math.abs(_el.getAttribute('data-y'));\n                }\n                if (allowX) {\n                  distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                } else {\n                  distanceX = -Math.abs(_el.getAttribute('data-x'));\n                }\n                if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n                  if (_this.core.s.useLeftForZoom) {\n                    _el.style.left = distanceX + 'px';\n                    _el.style.top = distanceY + 'px';\n                  } else {\n                    utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                  }\n                }\n              }\n            });\n          }\n          for (var k = 0; k < _this.core.___slide.length; k++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[k], 'touchend.lg', function () {\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                if (isMoved) {\n                  isMoved = false;\n                  utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n                  _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                }\n              }\n            });\n          }\n        };\n        Zoom.prototype.zoomDrag = function () {\n          var _this = this;\n          var startCoords = {};\n          var endCoords = {};\n          var isDraging = false;\n          var isMoved = false;\n\n          // Allow x direction drag\n          var allowX = false;\n\n          // Allow Y direction drag\n          var allowY = false;\n          var rotateValue = 0;\n          var rotateEl;\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'mousedown.lgzoom', function (e) {\n              // execute only on .lg-object\n              var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n              rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n              rotateValue = _this.getCurrentRotation(rotateEl);\n              var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n              allowY = dragAllowedAxises.allowY;\n              allowX = dragAllowedAxises.allowX;\n              if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                if (utils.hasClass(e.target, 'lg-object') && (allowX || allowY)) {\n                  e.preventDefault();\n                  startCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                  isDraging = true;\n\n                  // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                  _this.core.outer.scrollLeft += 1;\n                  _this.core.outer.scrollLeft -= 1;\n                  utils.removeClass(_this.core.outer, 'lg-grab');\n                  utils.addClass(_this.core.outer, 'lg-grabbing');\n                }\n              }\n            });\n          }\n          utils.on(window, 'mousemove.lgzoom', function (e) {\n            if (isDraging) {\n              var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n              var distanceX;\n              var distanceY;\n              isMoved = true;\n              endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n              // reset opacity and transition duration\n              utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n              if (allowY) {\n                distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n              } else {\n                distanceY = -Math.abs(_el.getAttribute('data-y'));\n              }\n              if (allowX) {\n                distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n              } else {\n                distanceX = -Math.abs(_el.getAttribute('data-x'));\n              }\n              if (_this.core.s.useLeftForZoom) {\n                _el.style.left = distanceX + 'px';\n                _el.style.top = distanceY + 'px';\n              } else {\n                utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n              }\n            }\n          });\n          utils.on(window, 'mouseup.lgzoom', function (e) {\n            if (isDraging) {\n              isDraging = false;\n              utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n\n              // Fix for chrome mouse move on click\n              if (isMoved && (startCoords.x !== endCoords.x || startCoords.y !== endCoords.y)) {\n                endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n              }\n              isMoved = false;\n            }\n            utils.removeClass(_this.core.outer, 'lg-grabbing');\n            utils.addClass(_this.core.outer, 'lg-grab');\n          });\n        };\n        Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, rotateValue) {\n          var _this = this;\n          var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n          var image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n          var rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n          var distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n          var distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n          var possibleDragCords = _this.getPossibleDragCords(image, Math.abs(rotateValue));\n          if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n            if (allowY) {\n              if (distanceY <= -possibleDragCords.maxY) {\n                distanceY = -possibleDragCords.maxY;\n              } else if (distanceY >= -possibleDragCords.minY) {\n                distanceY = -possibleDragCords.minY;\n              }\n            }\n            if (allowX) {\n              if (distanceX <= -possibleDragCords.maxX) {\n                distanceX = -possibleDragCords.maxX;\n              } else if (distanceX >= -possibleDragCords.minX) {\n                distanceX = -possibleDragCords.minX;\n              }\n            }\n            if (allowY) {\n              _el.setAttribute('data-y', Math.abs(distanceY));\n            } else {\n              distanceY = -Math.abs(_el.getAttribute('data-y'));\n            }\n            if (allowX) {\n              _el.setAttribute('data-x', Math.abs(distanceX));\n            } else {\n              distanceX = -Math.abs(_el.getAttribute('data-x'));\n            }\n            if (_this.core.s.useLeftForZoom) {\n              _el.style.left = distanceX + 'px';\n              _el.style.top = distanceY + 'px';\n            } else {\n              utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n          }\n        };\n        Zoom.prototype.destroy = function () {\n          var _this = this;\n\n          // Unbind all events added by lightGallery zoom plugin\n          utils.off(_this.core.el, '.lgzoom');\n          utils.off(window, '.lgzoom');\n          for (var i = 0; i < _this.core.___slide.length; i++) {\n            utils.off(_this.core.___slide[i], '.lgzoom');\n          }\n          utils.off(_this.core.el, '.lgtmzoom');\n          _this.resetZoom();\n          clearTimeout(_this.zoomabletimeout);\n          _this.zoomabletimeout = false;\n        };\n        window.lgModules.zoom = Zoom;\n      });\n    }, {}]\n  }, {}, [1])(1);\n});","map":{"version":3,"names":["f","exports","module","define","amd","g","window","global","self","LgZoom","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","factory","mod","lgZoom","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","getUseLeft","useLeft","isChrome","navigator","userAgent","match","parseInt","zoomDefaults","scale","zoom","actualSize","enableZoomAfter","useLeftForZoom","Zoom","element","el","core","lgData","getAttribute","s","doCss","init","zoomabletimeout","pageX","innerWidth","pageY","innerHeight","document","documentElement","scrollTop","body","_this","zoomIcons","utils","addClass","outer","querySelector","insertAdjacentHTML","on","event","_speed","detail","delay","hasClass","removeClass","setTimeout","___slide","index","scaleVal","image","_x","_y","offsetX","clientWidth","offsetY","clientHeight","x","y","setVendor","setAttribute","parentElement","style","left","top","callScale","resetZoom","fromIcon","w","nw","dynamic","dynamicEl","width","naturalWidth","items","_scale","targetTouches","tapped","isTouch","clearTimeout","preventDefault","getElementById","zoomDrag","zoomSwipe","getModifier","rotateValue","axis","originalRotate","Math","abs","transformValues","getCurrentTransform","modifier","flipHorizontalValue","sign","parseFloat","flipVerticalValue","sinX","sinMinusX","getImageSize","$image","imageSizes","getDragCords","getSwipeCords","getPossibleDragCords","minY","maxY","minX","maxX","getDragAllowedAxises","allowY","allowX","st","getComputedStyle","tm","getPropertyValue","split","getCurrentRotation","values","round","atan2","PI","removeAttribute","j","startCoords","endCoords","isMoved","rotateEl","dragAllowedAxises","_el","distanceX","distanceY","k","touchendZoom","isDraging","scrollLeft","possibleDragCords","destroy","off","lgModules"],"sources":["/Users/kolt/Development/MapboxProject/map_app/node_modules/lg-zoom.js/dist/lg-zoom.js"],"sourcesContent":["/**!\n * lg-zoom.js | 1.3.0 | October 14th 2020\n * http://sachinchoolur.github.io/lg-zoom.js\n * Copyright (c) 2016 Sachin N; \n * @license GPLv3 \n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.LgZoom = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory();\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory();\n        global.lgZoom = mod.exports;\n    }\n})(this, function () {\n    'use strict';\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    var getUseLeft = function getUseLeft() {\n        var useLeft = false;\n        var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n        if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n        }\n\n        return useLeft;\n    };\n\n    var zoomDefaults = {\n        scale: 1,\n        zoom: true,\n        actualSize: true,\n        enableZoomAfter: 300,\n        useLeftForZoom: getUseLeft()\n    };\n\n    var Zoom = function Zoom(element) {\n\n        this.el = element;\n\n        this.core = window.lgData[this.el.getAttribute('lg-uid')];\n        this.core.s = _extends({}, zoomDefaults, this.core.s);\n\n        if (this.core.s.zoom && this.core.doCss()) {\n            this.init();\n\n            // Store the zoomable timeout value just to clear it while closing\n            this.zoomabletimeout = false;\n\n            // Set the initial value center\n            this.pageX = window.innerWidth / 2;\n            this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n        }\n\n        return this;\n    };\n\n    Zoom.prototype.init = function () {\n\n        var _this = this;\n        var zoomIcons = '<button type=\"button\" aria-label=\"Zoom in\" id=\"lg-zoom-in\" class=\"lg-icon\"></button><button type=\"button\" aria-label=\"Zoom out\" id=\"lg-zoom-out\" class=\"lg-icon\"></button>';\n\n        if (_this.core.s.actualSize) {\n            zoomIcons += '<button type=\"button\" aria-label=\"Actual size\" id=\"lg-actual-size\" class=\"lg-icon\"></button>';\n        }\n\n        if (_this.core.s.useLeftForZoom) {\n            utils.addClass(_this.core.outer, 'lg-use-left-for-zoom');\n        } else {\n            utils.addClass(_this.core.outer, 'lg-use-transition-for-zoom');\n        }\n\n        this.core.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', zoomIcons);\n\n        // Add zoomable class\n        utils.on(_this.core.el, 'onSlideItemLoad.lgtmzoom', function (event) {\n\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + event.detail.delay;\n\n            // set _speed value 0 if gallery opened from direct url and if it is first slide\n            if (utils.hasClass(document.body, 'lg-from-hash') && event.detail.delay) {\n\n                // will execute only once\n                _speed = 0;\n            } else {\n\n                // Remove lg-from-hash to enable starting animation.\n                utils.removeClass(document.body, 'lg-from-hash');\n            }\n\n            _this.zoomabletimeout = setTimeout(function () {\n                utils.addClass(_this.core.___slide[event.detail.index], 'lg-zoomable');\n            }, _speed + 30);\n        });\n\n        var scale = 1;\n        /**\n         * @desc Image zoom\n         * Translate the wrap and scale the image to get better user experience\n         *\n         * @param {String} scaleVal - Zoom decrement/increment value\n         */\n        var zoom = function zoom(scaleVal) {\n\n            var image = _this.core.outer.querySelector('.lg-current .lg-image');\n            var _x;\n            var _y;\n\n            // Find offset manually to avoid issue after zoom\n            var offsetX = (window.innerWidth - image.clientWidth) / 2;\n            var offsetY = (window.innerHeight - image.clientHeight) / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n\n            var x = (scaleVal - 1) * _x;\n            var y = (scaleVal - 1) * _y;\n\n            utils.setVendor(image, 'Transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)');\n            image.setAttribute('data-scale', scaleVal);\n\n            if (_this.core.s.useLeftForZoom) {\n                image.parentElement.style.left = -x + 'px';\n                image.parentElement.style.top = -y + 'px';\n            } else {\n                utils.setVendor(image.parentElement, 'Transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)');\n            }\n\n            image.parentElement.setAttribute('data-x', x);\n            image.parentElement.setAttribute('data-y', y);\n        };\n\n        var callScale = function callScale() {\n            if (scale > 1) {\n                utils.addClass(_this.core.outer, 'lg-zoomed');\n            } else {\n                _this.resetZoom();\n            }\n\n            if (scale < 1) {\n                scale = 1;\n            }\n\n            zoom(scale);\n        };\n\n        var actualSize = function actualSize(event, image, index, fromIcon) {\n            var w = image.clientWidth;\n            var nw;\n            if (_this.core.s.dynamic) {\n                nw = _this.core.s.dynamicEl[index].width || image.naturalWidth || w;\n            } else {\n                nw = _this.core.items[index].getAttribute('data-width') || image.naturalWidth || w;\n            }\n\n            var _scale;\n\n            if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                scale = 1;\n            } else {\n                if (nw > w) {\n                    _scale = nw / w;\n                    scale = _scale || 2;\n                }\n            }\n\n            if (fromIcon) {\n                _this.pageX = window.innerWidth / 2;\n                _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            } else {\n                _this.pageX = event.pageX || event.targetTouches[0].pageX;\n                _this.pageY = event.pageY || event.targetTouches[0].pageY;\n            }\n\n            callScale();\n            setTimeout(function () {\n                utils.removeClass(_this.core.outer, 'lg-grabbing');\n                utils.addClass(_this.core.outer, 'lg-grab');\n            }, 10);\n        };\n\n        var tapped = false;\n\n        // event triggered after appending slide content\n        utils.on(_this.core.el, 'onAferAppendSlide.lgtmzoom', function (event) {\n\n            var index = event.detail.index;\n\n            // Get the current element\n            var image = _this.core.___slide[index].querySelector('.lg-image');\n\n            if (!_this.core.isTouch) {\n                utils.on(image, 'dblclick', function (event) {\n                    actualSize(event, image, index);\n                });\n            }\n\n            if (_this.core.isTouch) {\n                utils.on(image, 'touchstart', function (event) {\n                    if (!tapped) {\n                        tapped = setTimeout(function () {\n                            tapped = null;\n                        }, 300);\n                    } else {\n                        clearTimeout(tapped);\n                        tapped = null;\n                        actualSize(event, image, index);\n                    }\n\n                    event.preventDefault();\n                });\n            }\n        });\n\n        // Update zoom on resize and orientationchange\n        utils.on(window, 'resize.lgzoom scroll.lgzoom orientationchange.lgzoom', function () {\n            _this.pageX = window.innerWidth / 2;\n            _this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n            zoom(scale);\n        });\n\n        utils.on(document.getElementById('lg-zoom-out'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n                scale -= _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        utils.on(document.getElementById('lg-zoom-in'), 'click.lg', function () {\n            if (_this.core.outer.querySelector('.lg-current .lg-image')) {\n                scale += _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        utils.on(document.getElementById('lg-actual-size'), 'click.lg', function (event) {\n            actualSize(event, _this.core.___slide[_this.core.index].querySelector('.lg-image'), _this.core.index, true);\n        });\n\n        // Reset zoom on slide change\n        utils.on(_this.core.el, 'onBeforeSlide.lgtm', function () {\n            scale = 1;\n            _this.resetZoom();\n        });\n\n        // Drag option after zoom\n        if (!_this.core.isTouch) {\n            _this.zoomDrag();\n        }\n\n        if (_this.core.isTouch) {\n            _this.zoomSwipe();\n        }\n    };\n\n    Zoom.prototype.getModifier = function (rotateValue, axis, el) {\n        var originalRotate = rotateValue;\n        rotateValue = Math.abs(rotateValue);\n        var transformValues = this.getCurrentTransform(el);\n        if (!transformValues) {\n            return 1;\n        }\n        var modifier = 1;\n        if (axis === 'X') {\n            var flipHorizontalValue = Math.sign(parseFloat(transformValues[0]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                if (originalRotate === -90 && flipHorizontalValue === 1 || originalRotate === 90 && flipHorizontalValue === -1) {\n                    modifier = -1;\n                } else {\n                    modifier = 1;\n                }\n            }\n            modifier = modifier * flipHorizontalValue;\n        } else {\n            var flipVerticalValue = Math.sign(parseFloat(transformValues[3]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                var sinX = parseFloat(transformValues[1]);\n                var sinMinusX = parseFloat(transformValues[2]);\n                modifier = Math.sign(sinX * sinMinusX * originalRotate * flipVerticalValue);\n            }\n            modifier = modifier * flipVerticalValue;\n        }\n        return modifier;\n    };\n\n    Zoom.prototype.getImageSize = function ($image, rotateValue, axis) {\n        var imageSizes = {\n            y: 'offsetHeight',\n            x: 'offsetWidth'\n        };\n        if (rotateValue === 90) {\n            // Swap axis \n            if (axis === 'x') {\n                axis = 'y';\n            } else {\n                axis = 'x';\n            }\n        }\n        return $image[imageSizes[axis]];\n    };\n\n    Zoom.prototype.getDragCords = function (e, rotateValue) {\n        if (rotateValue === 90) {\n            return {\n                x: e.pageY,\n                y: e.pageX\n            };\n        } else {\n            return {\n                x: e.pageX,\n                y: e.pageY\n            };\n        }\n    };\n    Zoom.prototype.getSwipeCords = function (e, rotateValue) {\n        var x = e.targetTouches[0].pageX;\n        var y = e.targetTouches[0].pageY;\n        if (rotateValue === 90) {\n            return {\n                x: y,\n                y: x\n            };\n        } else {\n            return {\n                x: x,\n                y: y\n            };\n        }\n    };\n\n    Zoom.prototype.getPossibleDragCords = function ($image, rotateValue) {\n\n        var minY = (this.core.outer.querySelector('.lg').clientHeight - this.getImageSize($image, rotateValue, 'y')) / 2;\n        var maxY = Math.abs(this.getImageSize($image, rotateValue, 'y') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientHeight + minY);\n        var minX = (this.core.outer.querySelector('.lg').clientWidth - this.getImageSize($image, rotateValue, 'x')) / 2;\n        var maxX = Math.abs(this.getImageSize($image, rotateValue, 'x') * Math.abs($image.getAttribute('data-scale')) - this.core.outer.querySelector('.lg').clientWidth + minX);\n        if (rotateValue === 90) {\n            return {\n                minY: minX,\n                maxY: maxX,\n                minX: minY,\n                maxX: maxY\n            };\n        } else {\n            return {\n                minY: minY,\n                maxY: maxY,\n                minX: minX,\n                maxX: maxX\n            };\n        }\n    };\n\n    Zoom.prototype.getDragAllowedAxises = function ($image, rotateValue) {\n        var allowY = this.getImageSize($image, rotateValue, 'y') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientHeight;\n        var allowX = this.getImageSize($image, rotateValue, 'x') * $image.getAttribute('data-scale') > this.core.outer.querySelector('.lg').clientWidth;\n        if (rotateValue === 90) {\n            return {\n                allowX: allowY,\n                allowY: allowX\n            };\n        } else {\n            return {\n                allowX: allowX,\n                allowY: allowY\n            };\n        }\n    };\n\n    /**\n     * \n     * @param {Element} el \n     * @return matrix(cos(X), sin(X), -sin(X), cos(X), 0, 0);\n     * Get the current transform value\n     */\n    Zoom.prototype.getCurrentTransform = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var st = window.getComputedStyle(el, null);\n        var tm = st.getPropertyValue('-webkit-transform') || st.getPropertyValue('-moz-transform') || st.getPropertyValue('-ms-transform') || st.getPropertyValue('-o-transform') || st.getPropertyValue('transform') || 'none';\n        if (tm !== 'none') {\n            return tm.split('(')[1].split(')')[0].split(',');\n        }\n        return 0;\n    };\n\n    Zoom.prototype.getCurrentRotation = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var values = this.getCurrentTransform(el);\n        if (values) {\n            return Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n            // If you want rotate in 360\n            //return (angle < 0 ? angle + 360 : angle);\n        }\n        return 0;\n    };\n\n    // Reset zoom effect\n    Zoom.prototype.resetZoom = function () {\n        utils.removeClass(this.core.outer, 'lg-zoomed');\n        for (var i = 0; i < this.core.___slide.length; i++) {\n            if (this.core.___slide[i].querySelector('.lg-img-wrap')) {\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('style');\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-x');\n                this.core.___slide[i].querySelector('.lg-img-wrap').removeAttribute('data-y');\n            }\n        }\n\n        for (var j = 0; j < this.core.___slide.length; j++) {\n            if (this.core.___slide[j].querySelector('.lg-image')) {\n                this.core.___slide[j].querySelector('.lg-image').removeAttribute('style');\n                this.core.___slide[j].querySelector('.lg-image').removeAttribute('data-scale');\n            }\n        }\n\n        // Reset pagx pagy values to center\n        this.pageX = window.innerWidth / 2;\n        this.pageY = window.innerHeight / 2 + (document.documentElement.scrollTop || document.body.scrollTop);\n    };\n\n    Zoom.prototype.zoomSwipe = function () {\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'touchstart.lg', function (e) {\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n                    rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                    rotateValue = _this.getCurrentRotation(rotateEl);\n\n                    var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                    allowY = dragAllowedAxises.allowY;\n                    allowX = dragAllowedAxises.allowX;\n\n                    if (allowX || allowY) {\n                        e.preventDefault();\n                        startCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n                    }\n                }\n            });\n        }\n\n        for (var j = 0; j < _this.core.___slide.length; j++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[j], 'touchmove.lg', function (e) {\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n\n                    var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n                    var distanceX;\n                    var distanceY;\n\n                    e.preventDefault();\n                    isMoved = true;\n\n                    endCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n\n                    // reset opacity and transition duration\n                    utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n                    if (allowY) {\n                        distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                    } else {\n                        distanceY = -Math.abs(_el.getAttribute('data-y'));\n                    }\n\n                    if (allowX) {\n                        distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                    } else {\n                        distanceX = -Math.abs(_el.getAttribute('data-x'));\n                    }\n\n                    if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n\n                        if (_this.core.s.useLeftForZoom) {\n                            _el.style.left = distanceX + 'px';\n                            _el.style.top = distanceY + 'px';\n                        } else {\n                            utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                        }\n                    }\n                }\n            });\n        }\n\n        for (var k = 0; k < _this.core.___slide.length; k++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[k], 'touchend.lg', function () {\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    if (isMoved) {\n                        isMoved = false;\n                        utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n                        _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                    }\n                }\n            });\n        }\n    };\n\n    Zoom.prototype.zoomDrag = function () {\n\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isDraging = false;\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n\n            /*jshint loopfunc: true */\n            utils.on(_this.core.___slide[i], 'mousedown.lgzoom', function (e) {\n\n                // execute only on .lg-object\n                var $image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n\n                rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n                rotateValue = _this.getCurrentRotation(rotateEl);\n\n                var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                allowY = dragAllowedAxises.allowY;\n                allowX = dragAllowedAxises.allowX;\n\n                if (utils.hasClass(_this.core.outer, 'lg-zoomed')) {\n                    if (utils.hasClass(e.target, 'lg-object') && (allowX || allowY)) {\n                        e.preventDefault();\n                        startCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                        isDraging = true;\n\n                        // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                        _this.core.outer.scrollLeft += 1;\n                        _this.core.outer.scrollLeft -= 1;\n\n                        utils.removeClass(_this.core.outer, 'lg-grab');\n                        utils.addClass(_this.core.outer, 'lg-grabbing');\n                    }\n                }\n            });\n        }\n\n        utils.on(window, 'mousemove.lgzoom', function (e) {\n            if (isDraging) {\n                var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                isMoved = true;\n                endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                // reset opacity and transition duration\n                utils.addClass(_this.core.outer, 'lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n                } else {\n                    distanceY = -Math.abs(_el.getAttribute('data-y'));\n                }\n\n                if (allowX) {\n                    distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n                } else {\n                    distanceX = -Math.abs(_el.getAttribute('data-x'));\n                }\n\n                if (_this.core.s.useLeftForZoom) {\n                    _el.style.left = distanceX + 'px';\n                    _el.style.top = distanceY + 'px';\n                } else {\n                    utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                }\n            }\n        });\n\n        utils.on(window, 'mouseup.lgzoom', function (e) {\n\n            if (isDraging) {\n                isDraging = false;\n                utils.removeClass(_this.core.outer, 'lg-zoom-dragging');\n\n                // Fix for chrome mouse move on click\n                if (isMoved && (startCoords.x !== endCoords.x || startCoords.y !== endCoords.y)) {\n                    endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n                }\n\n                isMoved = false;\n            }\n\n            utils.removeClass(_this.core.outer, 'lg-grabbing');\n            utils.addClass(_this.core.outer, 'lg-grab');\n        });\n    };\n\n    Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, rotateValue) {\n\n        var _this = this;\n        var _el = _this.core.___slide[_this.core.index].querySelector('.lg-img-wrap');\n        var image = _this.core.___slide[_this.core.index].querySelector('.lg-object');\n        var rotateEl = _this.core.___slide[_this.core.index].querySelector('.lg-img-rotate');\n        var distanceX = -Math.abs(_el.getAttribute('data-x')) + (endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl);\n        var distanceY = -Math.abs(_el.getAttribute('data-y')) + (endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl);\n        var possibleDragCords = _this.getPossibleDragCords(image, Math.abs(rotateValue));\n\n        if (Math.abs(endCoords.x - startCoords.x) > 15 || Math.abs(endCoords.y - startCoords.y) > 15) {\n            if (allowY) {\n                if (distanceY <= -possibleDragCords.maxY) {\n                    distanceY = -possibleDragCords.maxY;\n                } else if (distanceY >= -possibleDragCords.minY) {\n                    distanceY = -possibleDragCords.minY;\n                }\n            }\n\n            if (allowX) {\n                if (distanceX <= -possibleDragCords.maxX) {\n                    distanceX = -possibleDragCords.maxX;\n                } else if (distanceX >= -possibleDragCords.minX) {\n                    distanceX = -possibleDragCords.minX;\n                }\n            }\n\n            if (allowY) {\n                _el.setAttribute('data-y', Math.abs(distanceY));\n            } else {\n                distanceY = -Math.abs(_el.getAttribute('data-y'));\n            }\n\n            if (allowX) {\n                _el.setAttribute('data-x', Math.abs(distanceX));\n            } else {\n                distanceX = -Math.abs(_el.getAttribute('data-x'));\n            }\n\n            if (_this.core.s.useLeftForZoom) {\n                _el.style.left = distanceX + 'px';\n                _el.style.top = distanceY + 'px';\n            } else {\n                utils.setVendor(_el, 'Transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n        }\n    };\n\n    Zoom.prototype.destroy = function () {\n\n        var _this = this;\n\n        // Unbind all events added by lightGallery zoom plugin\n        utils.off(_this.core.el, '.lgzoom');\n        utils.off(window, '.lgzoom');\n        for (var i = 0; i < _this.core.___slide.length; i++) {\n            utils.off(_this.core.___slide[i], '.lgzoom');\n        }\n\n        utils.off(_this.core.el, '.lgtmzoom');\n        _this.resetZoom();\n        clearTimeout(_this.zoomabletimeout);\n        _this.zoomabletimeout = false;\n    };\n\n    window.lgModules.zoom = Zoom;\n});\n\n},{}]},{},[1])(1)\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}