{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['./lg-utils'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(require('./lg-utils'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(global.lgUtils);\n    global.lightgallery = mod.exports;\n  }\n})(this, function (_lgUtils) {\n  'use strict';\n\n  var _lgUtils2 = _interopRequireDefault(_lgUtils);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n\n  /** Polyfill the CustomEvent() constructor functionality in Internet Explorer 9 and higher */\n  (function () {\n    if (typeof window.CustomEvent === 'function') {\n      return false;\n    }\n    function CustomEvent(event, params) {\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n      var evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n      return evt;\n    }\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent;\n  })();\n  window.utils = _lgUtils2.default;\n  window.lgData = {\n    uid: 0\n  };\n  window.lgModules = {};\n  var defaults = {\n    mode: 'lg-slide',\n    // Ex : 'ease'\n    cssEasing: 'ease',\n    //'for jquery animation'\n    easing: 'linear',\n    speed: 600,\n    height: '100%',\n    width: '100%',\n    addClass: '',\n    startClass: 'lg-start-zoom',\n    backdropDuration: 150,\n    // Set 0, if u don't want to hide the controls \n    hideBarsDelay: 6000,\n    useLeft: false,\n    // aria-labelledby attribute fot gallery\n    ariaLabelledby: '',\n    //aria-describedby attribute for gallery\n    ariaDescribedby: '',\n    closable: true,\n    loop: true,\n    escKey: true,\n    keyPress: true,\n    controls: true,\n    slideEndAnimatoin: true,\n    hideControlOnEnd: false,\n    mousewheel: false,\n    getCaptionFromTitleOrAlt: true,\n    // .lg-item || '.lg-sub-html'\n    appendSubHtmlTo: '.lg-sub-html',\n    subHtmlSelectorRelative: false,\n    /**\n     * @desc number of preload slides\n     * will exicute only after the current slide is fully loaded.\n     *\n     * @ex you clicked on 4th image and if preload = 1 then 3rd slide and 5th\n     * slide will be loaded in the background after the 4th slide is fully loaded..\n     * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.. ... ...\n     *\n     */\n    preload: 1,\n    showAfterLoad: true,\n    selector: '',\n    selectWithin: '',\n    nextHtml: '',\n    prevHtml: '',\n    // 0, 1\n    index: false,\n    iframeMaxWidth: '100%',\n    download: true,\n    counter: true,\n    appendCounterTo: '.lg-toolbar',\n    swipeThreshold: 50,\n    enableSwipe: true,\n    enableDrag: true,\n    dynamic: false,\n    dynamicEl: [],\n    galleryId: 1,\n    supportLegacyBrowser: true\n  };\n  function Plugin(element, options) {\n    // Current lightGallery element\n    this.el = element;\n\n    // lightGallery settings\n    this.s = _extends({}, defaults, options);\n\n    // When using dynamic mode, ensure dynamicEl is an array\n    if (this.s.dynamic && this.s.dynamicEl !== 'undefined' && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) {\n      throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n    }\n\n    // lightGallery modules\n    this.modules = {};\n\n    // false when lightgallery complete first slide;\n    this.lGalleryOn = false;\n    this.lgBusy = false;\n\n    // Timeout function for hiding controls;\n    this.hideBartimeout = false;\n\n    // To determine browser supports for touch events;\n    this.isTouch = 'ontouchstart' in document.documentElement;\n\n    // Disable hideControlOnEnd if sildeEndAnimation is true\n    if (this.s.slideEndAnimatoin) {\n      this.s.hideControlOnEnd = false;\n    }\n    this.items = [];\n\n    // Gallery items\n    if (this.s.dynamic) {\n      this.items = this.s.dynamicEl;\n    } else {\n      if (this.s.selector === 'this') {\n        this.items.push(this.el);\n      } else if (this.s.selector !== '') {\n        if (this.s.selectWithin) {\n          this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector);\n        } else {\n          this.items = this.el.querySelectorAll(this.s.selector);\n        }\n      } else {\n        this.items = this.el.children;\n      }\n    }\n\n    // .lg-item\n\n    this.___slide = '';\n\n    // .lg-outer\n    this.outer = '';\n    this.init();\n    return this;\n  }\n  Plugin.prototype.init = function () {\n    var _this = this;\n\n    // s.preload should not be more than $item.length\n    if (_this.s.preload > _this.items.length) {\n      _this.s.preload = _this.items.length;\n    }\n\n    // if dynamic option is enabled execute immediately\n    var _hash = window.location.hash;\n    if (_hash.indexOf('lg=' + this.s.galleryId) > 0) {\n      _this.index = parseInt(_hash.split('&slide=')[1], 10);\n      _lgUtils2.default.addClass(document.body, 'lg-from-hash');\n      if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n        _lgUtils2.default.addClass(document.body, 'lg-on');\n        setTimeout(function () {\n          _this.build(_this.index);\n        });\n      }\n    }\n    if (_this.s.dynamic) {\n      _lgUtils2.default.trigger(this.el, 'onBeforeOpen');\n      _this.index = _this.s.index || 0;\n\n      // prevent accidental double execution\n      if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n        _lgUtils2.default.addClass(document.body, 'lg-on');\n        setTimeout(function () {\n          _this.build(_this.index);\n        });\n      }\n    } else {\n      for (var i = 0; i < _this.items.length; i++) {\n        /*jshint loopfunc: true */\n        (function (index) {\n          // Using different namespace for click because click event should not unbind if selector is same object('this')\n          _lgUtils2.default.on(_this.items[index], 'click.lgcustom', function (e) {\n            e.preventDefault();\n            _lgUtils2.default.trigger(_this.el, 'onBeforeOpen');\n            _this.index = _this.s.index || index;\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n              _this.build(_this.index);\n              _lgUtils2.default.addClass(document.body, 'lg-on');\n            }\n          });\n        })(i);\n      }\n    }\n  };\n  Plugin.prototype.build = function (index) {\n    var _this = this;\n    _this.structure();\n    for (var key in window.lgModules) {\n      _this.modules[key] = new window.lgModules[key](_this.el);\n    }\n\n    // initiate slide function\n    _this.slide(index, false, false);\n    if (_this.s.keyPress) {\n      _this.keyPress();\n    }\n    if (_this.items.length > 1) {\n      _this.arrow();\n      setTimeout(function () {\n        _this.enableDrag();\n        _this.enableSwipe();\n      }, 50);\n      if (_this.s.mousewheel) {\n        _this.mousewheel();\n      }\n    }\n    _this.counter();\n    _this.closeGallery();\n    _lgUtils2.default.trigger(_this.el, 'onAfterOpen');\n\n    // Hide controllers if mouse doesn't move for some period\n    if (_this.s.hideBarsDelay > 0) {\n      // Hide controls if user doesn't use mouse or touch after opening gallery\n      var initialHideBarTimeout = setTimeout(function () {\n        _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n      }, _this.s.hideBarsDelay);\n      _lgUtils2.default.on(_this.outer, 'mousemove.lg click.lg touchstart.lg', function () {\n        // Cancel initalHideBarTimout if user uses mouse or touch events\n        // Before it fires\n        clearTimeout(initialHideBarTimeout);\n        _lgUtils2.default.removeClass(_this.outer, 'lg-hide-items');\n        clearTimeout(_this.hideBartimeout);\n\n        // Timeout will be cleared on each slide movement also\n        _this.hideBartimeout = setTimeout(function () {\n          _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n        }, _this.s.hideBarsDelay);\n      });\n    }\n  };\n  Plugin.prototype.structure = function () {\n    var list = '';\n    var controls = '';\n    var i = 0;\n    var subHtmlCont = '';\n    var template;\n    var _this = this;\n    document.body.insertAdjacentHTML('beforeend', '<div class=\"lg-backdrop\"></div>');\n    _lgUtils2.default.setVendor(document.querySelector('.lg-backdrop'), 'TransitionDuration', this.s.backdropDuration + 'ms');\n\n    // Create gallery items\n    for (i = 0; i < this.items.length; i++) {\n      list += '<div class=\"lg-item\"></div>';\n    }\n\n    // Create controlls\n    if (this.s.controls && this.items.length > 1) {\n      controls = '<div class=\"lg-actions\">' + '<button type=\"button\" aria-label=\"Previous slide\" class=\"lg-prev lg-icon\">' + this.s.prevHtml + '</button>' + '<button type=\"button\" aria-label=\"Next slide\" class=\"lg-next lg-icon\">' + this.s.nextHtml + '</button>' + '</div>';\n    }\n    if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n      subHtmlCont = '<div role=\"status\" aria-live=\"polite\" class=\"lg-sub-html\"></div>';\n    }\n    var ariaLabelledby = this.s.ariaLabelledby ? 'aria-labelledby=\"' + this.s.ariaLabelledby + '\"' : '';\n    var ariaDescribedby = this.s.ariaDescribedby ? 'aria-describedby=\"' + this.s.ariaDescribedby + '\"' : '';\n    template = '<div tabindex=\"-1\" aria-modal=\"true\" ' + ariaLabelledby + ' ' + ariaDescribedby + ' role=\"dialog\" class=\"lg-outer ' + this.s.addClass + ' ' + this.s.startClass + '\">' + '<div class=\"lg\" style=\"width:' + this.s.width + '; height:' + this.s.height + '\">' + '<div class=\"lg-inner\">' + list + '</div>' + '<div class=\"lg-toolbar lg-group\">' + '<button type=\"button\" aria-label=\"Close gallery\" class=\"lg-close lg-icon\"></button>' + '</div>' + controls + subHtmlCont + '</div>' + '</div>';\n    document.body.insertAdjacentHTML('beforeend', template);\n    this.outer = document.querySelector('.lg-outer');\n    this.outer.focus();\n    this.___slide = this.outer.querySelectorAll('.lg-item');\n    if (this.s.useLeft) {\n      _lgUtils2.default.addClass(this.outer, 'lg-use-left');\n\n      // Set mode lg-slide if use left is true;\n      this.s.mode = 'lg-slide';\n    } else {\n      _lgUtils2.default.addClass(this.outer, 'lg-use-css3');\n    }\n\n    // For fixed height gallery\n    _this.setTop();\n    _lgUtils2.default.on(window, 'resize.lg orientationchange.lg', function () {\n      setTimeout(function () {\n        _this.setTop();\n      }, 100);\n    });\n\n    // add class lg-current to remove initial transition\n    _lgUtils2.default.addClass(this.___slide[this.index], 'lg-current');\n\n    // add Class for css support and transition mode\n    if (this.doCss()) {\n      _lgUtils2.default.addClass(this.outer, 'lg-css3');\n    } else {\n      _lgUtils2.default.addClass(this.outer, 'lg-css');\n\n      // Set speed 0 because no animation will happen if browser doesn't support css3\n      this.s.speed = 0;\n    }\n    _lgUtils2.default.addClass(this.outer, this.s.mode);\n    if (this.s.enableDrag && this.items.length > 1) {\n      _lgUtils2.default.addClass(this.outer, 'lg-grab');\n    }\n    if (this.s.showAfterLoad) {\n      _lgUtils2.default.addClass(this.outer, 'lg-show-after-load');\n    }\n    if (this.doCss()) {\n      var inner = this.outer.querySelector('.lg-inner');\n      _lgUtils2.default.setVendor(inner, 'TransitionTimingFunction', this.s.cssEasing);\n      _lgUtils2.default.setVendor(inner, 'TransitionDuration', this.s.speed + 'ms');\n    }\n    setTimeout(function () {\n      _lgUtils2.default.addClass(document.querySelector('.lg-backdrop'), 'in');\n    });\n    setTimeout(function () {\n      _lgUtils2.default.addClass(_this.outer, 'lg-visible');\n    }, this.s.backdropDuration);\n    if (this.s.download) {\n      this.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', '<a id=\"lg-download\" aria-label=\"Download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>');\n    }\n\n    // Store the current scroll top value to scroll back after closing the gallery..\n    this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n  };\n\n  // For fixed height gallery\n  Plugin.prototype.setTop = function () {\n    if (this.s.height !== '100%') {\n      var wH = window.innerHeight;\n      var top = (wH - parseInt(this.s.height, 10)) / 2;\n      var lGallery = this.outer.querySelector('.lg');\n      if (wH >= parseInt(this.s.height, 10)) {\n        lGallery.style.top = top + 'px';\n      } else {\n        lGallery.style.top = '0px';\n      }\n    }\n  };\n\n  // Find css3 support\n  Plugin.prototype.doCss = function () {\n    // check for css animation support\n    var support = function support() {\n      var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n      var root = document.documentElement;\n      var i = 0;\n      for (i = 0; i < transition.length; i++) {\n        if (transition[i] in root.style) {\n          return true;\n        }\n      }\n    };\n    if (support()) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   *  @desc Check the given src is video\n   *  @param {String} src\n   *  @return {Object} video type\n   *  Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\n   */\n  Plugin.prototype.isVideo = function (src, index) {\n    var html;\n    if (this.s.dynamic) {\n      html = this.s.dynamicEl[index].html;\n    } else {\n      html = this.items[index].getAttribute('data-html');\n    }\n    if (!src && html) {\n      return {\n        html5: true\n      };\n    }\n    var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\n    var vimeo = src.match(/\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i);\n    var dailymotion = src.match(/\\/\\/(?:www\\.)?dai.ly\\/([0-9a-z\\-_]+)/i);\n    var vk = src.match(/\\/\\/(?:www\\.)?(?:vk\\.com|vkontakte\\.ru)\\/(?:video_ext\\.php\\?)(.*)/i);\n    if (youtube) {\n      return {\n        youtube: youtube\n      };\n    } else if (vimeo) {\n      return {\n        vimeo: vimeo\n      };\n    } else if (dailymotion) {\n      return {\n        dailymotion: dailymotion\n      };\n    } else if (vk) {\n      return {\n        vk: vk\n      };\n    }\n  };\n\n  /**\n   *  @desc Create image counter\n   *  Ex: 1/10\n   */\n  Plugin.prototype.counter = function () {\n    if (this.s.counter) {\n      this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML('beforeend', '<div id=\"lg-counter\" role=\"status\" aria-live=\"polite\"><span id=\"lg-counter-current\">' + (parseInt(this.index, 10) + 1) + '</span> / <span id=\"lg-counter-all\">' + this.items.length + '</span></div>');\n    }\n  };\n\n  /**\n   *  @desc add sub-html into the slide\n   *  @param {Number} index - index of the slide\n   */\n  Plugin.prototype.addHtml = function (index) {\n    var subHtml = null;\n    var currentEle;\n    if (this.s.dynamic) {\n      subHtml = this.s.dynamicEl[index].subHtml;\n    } else {\n      currentEle = this.items[index];\n      subHtml = currentEle.getAttribute('data-sub-html');\n      if (this.s.getCaptionFromTitleOrAlt && !subHtml) {\n        subHtml = currentEle.getAttribute('title');\n        if (subHtml && currentEle.querySelector('img')) {\n          subHtml = currentEle.querySelector('img').getAttribute('alt');\n        }\n      }\n    }\n    if (typeof subHtml !== 'undefined' && subHtml !== null) {\n      // get first letter of subhtml\n      // if first letter starts with . or # get the html form the jQuery object\n      var fL = subHtml.substring(0, 1);\n      if (fL === '.' || fL === '#') {\n        if (this.s.subHtmlSelectorRelative && !this.s.dynamic) {\n          subHtml = currentEle.querySelector(subHtml).innerHTML;\n        } else {\n          subHtml = document.querySelector(subHtml).innerHTML;\n        }\n      }\n    } else {\n      subHtml = '';\n    }\n    if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n      this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = subHtml;\n    } else {\n      this.___slide[index].insertAdjacentHTML('beforeend', subHtml);\n    }\n\n    // Add lg-empty-html class if title doesn't exist\n    if (typeof subHtml !== 'undefined' && subHtml !== null) {\n      if (subHtml === '') {\n        _lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n      } else {\n        _lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n      }\n    }\n    _lgUtils2.default.trigger(this.el, 'onAfterAppendSubHtml', {\n      index: index\n    });\n  };\n\n  /**\n   *  @desc Preload slides\n   *  @param {Number} index - index of the slide\n   */\n  Plugin.prototype.preload = function (index) {\n    var i = 1;\n    var j = 1;\n    for (i = 1; i <= this.s.preload; i++) {\n      if (i >= this.items.length - index) {\n        break;\n      }\n      this.loadContent(index + i, false, 0);\n    }\n    for (j = 1; j <= this.s.preload; j++) {\n      if (index - j < 0) {\n        break;\n      }\n      this.loadContent(index - j, false, 0);\n    }\n  };\n\n  /**\n   *  @desc Load slide content into slide.\n   *  @param {Number} index - index of the slide.\n   *  @param {Boolean} rec - if true call loadcontent() function again.\n   *  @param {Boolean} delay - delay for adding complete class. it is 0 except first time.\n   */\n  Plugin.prototype.loadContent = function (index, rec, delay) {\n    var _this = this;\n    var _hasPoster = false;\n    var _img;\n    var _src;\n    var _poster;\n    var _srcset;\n    var _sizes;\n    var _html;\n    var _alt;\n    var getResponsiveSrc = function getResponsiveSrc(srcItms) {\n      var rsWidth = [];\n      var rsSrc = [];\n      for (var i = 0; i < srcItms.length; i++) {\n        var __src = srcItms[i].split(' ');\n\n        // Manage empty space\n        if (__src[0] === '') {\n          __src.splice(0, 1);\n        }\n        rsSrc.push(__src[0]);\n        rsWidth.push(__src[1]);\n      }\n      var wWidth = window.innerWidth;\n      for (var j = 0; j < rsWidth.length; j++) {\n        if (parseInt(rsWidth[j], 10) > wWidth) {\n          _src = rsSrc[j];\n          break;\n        }\n      }\n    };\n    if (_this.s.dynamic) {\n      if (_this.s.dynamicEl[index].poster) {\n        _hasPoster = true;\n        _poster = _this.s.dynamicEl[index].poster;\n      }\n      _html = _this.s.dynamicEl[index].html;\n      _src = _this.s.dynamicEl[index].src;\n      _alt = _this.s.dynamicEl[index].alt;\n      if (_this.s.dynamicEl[index].responsive) {\n        var srcDyItms = _this.s.dynamicEl[index].responsive.split(',');\n        getResponsiveSrc(srcDyItms);\n      }\n      _srcset = _this.s.dynamicEl[index].srcset;\n      _sizes = _this.s.dynamicEl[index].sizes;\n    } else {\n      if (_this.items[index].getAttribute('data-poster')) {\n        _hasPoster = true;\n        _poster = _this.items[index].getAttribute('data-poster');\n      }\n      _html = _this.items[index].getAttribute('data-html');\n      _src = _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src');\n      _alt = _this.items[index].getAttribute('title');\n      if (_this.items[index].querySelector('img')) {\n        _alt = _alt || _this.items[index].querySelector('img').getAttribute('alt');\n      }\n      if (_this.items[index].getAttribute('data-responsive')) {\n        var srcItms = _this.items[index].getAttribute('data-responsive').split(',');\n        getResponsiveSrc(srcItms);\n      }\n      _srcset = _this.items[index].getAttribute('data-srcset');\n      _sizes = _this.items[index].getAttribute('data-sizes');\n    }\n\n    //if (_src || _srcset || _sizes || _poster) {\n\n    var iframe = false;\n    if (_this.s.dynamic) {\n      if (_this.s.dynamicEl[index].iframe) {\n        iframe = true;\n      }\n    } else {\n      if (_this.items[index].getAttribute('data-iframe') === 'true') {\n        iframe = true;\n      }\n    }\n    var _isVideo = _this.isVideo(_src, index);\n    if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-loaded')) {\n      if (iframe) {\n        _this.___slide[index].insertAdjacentHTML('afterbegin', '<div class=\"lg-video-cont\" style=\"max-width:' + _this.s.iframeMaxWidth + '\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\"' + _src + '\"  allowfullscreen=\"true\"></iframe></div></div>');\n      } else if (_hasPoster) {\n        var videoClass = '';\n        if (_isVideo && _isVideo.youtube) {\n          videoClass = 'lg-has-youtube';\n        } else if (_isVideo && _isVideo.vimeo) {\n          videoClass = 'lg-has-vimeo';\n        } else {\n          videoClass = 'lg-has-html5';\n        }\n        _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont ' + videoClass + ' \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\"' + _poster + '\" /></div></div>');\n      } else if (_isVideo) {\n        _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>');\n        _lgUtils2.default.trigger(_this.el, 'hasVideo', {\n          index: index,\n          src: _src,\n          html: _html\n        });\n      } else {\n        _alt = _alt ? 'alt=\"' + _alt + '\"' : '';\n        _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" ' + _alt + ' src=\"' + _src + '\" /></div>');\n      }\n      _lgUtils2.default.trigger(_this.el, 'onAferAppendSlide', {\n        index: index\n      });\n      _img = _this.___slide[index].querySelector('.lg-object');\n      if (_sizes) {\n        _img.setAttribute('sizes', _sizes);\n      }\n      if (_srcset) {\n        _img.setAttribute('srcset', _srcset);\n        if (this.s.supportLegacyBrowser) {\n          try {\n            picturefill({\n              elements: [_img[0]]\n            });\n          } catch (e) {\n            console.warn('If you want srcset to be supported for older browsers, ' + 'please include picturefil javascript library in your document.');\n          }\n        }\n      }\n      if (this.s.appendSubHtmlTo !== '.lg-sub-html') {\n        _this.addHtml(index);\n      }\n      _lgUtils2.default.addClass(_this.___slide[index], 'lg-loaded');\n    }\n    _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n      // For first time add some delay for displaying the start animation.\n      var _speed = 0;\n\n      // Do not change the delay value because it is required for zoom plugin.\n      // If gallery opened from direct url (hash) speed value should be 0\n      if (delay && !_lgUtils2.default.hasClass(document.body, 'lg-from-hash')) {\n        _speed = delay;\n      }\n      setTimeout(function () {\n        _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n        _lgUtils2.default.trigger(_this.el, 'onSlideItemLoad', {\n          index: index,\n          delay: delay || 0\n        });\n      }, _speed);\n    });\n\n    // @todo check load state for html5 videos\n    if (_isVideo && _isVideo.html5 && !_hasPoster) {\n      _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n    }\n    if (rec === true) {\n      if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-complete')) {\n        _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n          _this.preload(index);\n        });\n      } else {\n        _this.preload(index);\n      }\n    }\n\n    //}\n  };\n\n  /**\n  *   @desc slide function for lightgallery\n      ** Slide() gets call on start\n      ** ** Set lg.on true once slide() function gets called.\n      ** Call loadContent() on slide() function inside setTimeout\n      ** ** On first slide we do not want any animation like slide of fade\n      ** ** So on first slide( if lg.on if false that is first slide) loadContent() should start loading immediately\n      ** ** Else loadContent() should wait for the transition to complete.\n      ** ** So set timeout s.speed + 50\n  <=> ** loadContent() will load slide content in to the particular slide\n      ** ** It has recursion (rec) parameter. if rec === true loadContent() will call preload() function.\n      ** ** preload will execute only when the previous slide is fully loaded (images iframe)\n      ** ** avoid simultaneous image load\n  <=> ** Preload() will check for s.preload value and call loadContent() again accoring to preload value\n      ** loadContent()  <====> Preload();\n  \n  *   @param {Number} index - index of the slide\n  *   @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\n  *   @param {Boolean} fromThumb - true if slide function called via thumbnail click\n  */\n  Plugin.prototype.slide = function (index, fromTouch, fromThumb) {\n    var _prevIndex = 0;\n    for (var i = 0; i < this.___slide.length; i++) {\n      if (_lgUtils2.default.hasClass(this.___slide[i], 'lg-current')) {\n        _prevIndex = i;\n        break;\n      }\n    }\n    var _this = this;\n\n    // Prevent if multiple call\n    // Required for hsh plugin\n    if (_this.lGalleryOn && _prevIndex === index) {\n      return;\n    }\n    var _length = this.___slide.length;\n    var _time = _this.lGalleryOn ? this.s.speed : 0;\n    var _next = false;\n    var _prev = false;\n    if (!_this.lgBusy) {\n      if (this.s.download) {\n        var _src;\n        if (_this.s.dynamic) {\n          _src = _this.s.dynamicEl[index].downloadUrl !== false && (_this.s.dynamicEl[index].downloadUrl || _this.s.dynamicEl[index].src);\n        } else {\n          _src = _this.items[index].getAttribute('data-download-url') !== 'false' && (_this.items[index].getAttribute('data-download-url') || _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src'));\n        }\n        if (_src) {\n          document.getElementById('lg-download').setAttribute('href', _src);\n          _lgUtils2.default.removeClass(_this.outer, 'lg-hide-download');\n        } else {\n          _lgUtils2.default.addClass(_this.outer, 'lg-hide-download');\n        }\n      }\n      _lgUtils2.default.trigger(_this.el, 'onBeforeSlide', {\n        prevIndex: _prevIndex,\n        index: index,\n        fromTouch: fromTouch,\n        fromThumb: fromThumb\n      });\n      _this.lgBusy = true;\n      clearTimeout(_this.hideBartimeout);\n\n      // Add title if this.s.appendSubHtmlTo === lg-sub-html\n      if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n        // wait for slide animation to complete\n        setTimeout(function () {\n          _this.addHtml(index);\n        }, _time);\n      }\n      this.arrowDisable(index);\n      if (!fromTouch) {\n        // remove all transitions\n        _lgUtils2.default.addClass(_this.outer, 'lg-no-trans');\n        for (var j = 0; j < this.___slide.length; j++) {\n          _lgUtils2.default.removeClass(this.___slide[j], 'lg-prev-slide');\n          _lgUtils2.default.removeClass(this.___slide[j], 'lg-next-slide');\n        }\n        if (index < _prevIndex) {\n          _prev = true;\n          if (index === 0 && _prevIndex === _length - 1 && !fromThumb) {\n            _prev = false;\n            _next = true;\n          }\n        } else if (index > _prevIndex) {\n          _next = true;\n          if (index === _length - 1 && _prevIndex === 0 && !fromThumb) {\n            _prev = true;\n            _next = false;\n          }\n        }\n        if (_prev) {\n          //prevslide\n          _lgUtils2.default.addClass(this.___slide[index], 'lg-prev-slide');\n          _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-next-slide');\n        } else if (_next) {\n          // next slide\n          _lgUtils2.default.addClass(this.___slide[index], 'lg-next-slide');\n          _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-prev-slide');\n        }\n\n        // give 50 ms for browser to add/remove class\n        setTimeout(function () {\n          _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n\n          //_this.$slide.eq(_prevIndex).removeClass('lg-current');\n          _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n\n          // reset all transitions\n          _lgUtils2.default.removeClass(_this.outer, 'lg-no-trans');\n        }, 50);\n      } else {\n        var touchPrev = index - 1;\n        var touchNext = index + 1;\n        if (index === 0 && _prevIndex === _length - 1) {\n          // next slide\n          touchNext = 0;\n          touchPrev = _length - 1;\n        } else if (index === _length - 1 && _prevIndex === 0) {\n          // prev slide\n          touchNext = 0;\n          touchPrev = _length - 1;\n        }\n        _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-prev-slide'), 'lg-prev-slide');\n        _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n        _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-next-slide'), 'lg-next-slide');\n        _lgUtils2.default.addClass(_this.___slide[touchPrev], 'lg-prev-slide');\n        _lgUtils2.default.addClass(_this.___slide[touchNext], 'lg-next-slide');\n        _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n      }\n      if (_this.lGalleryOn) {\n        setTimeout(function () {\n          _this.loadContent(index, true, 0);\n        }, this.s.speed + 50);\n        setTimeout(function () {\n          _this.lgBusy = false;\n          _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n            prevIndex: _prevIndex,\n            index: index,\n            fromTouch: fromTouch,\n            fromThumb: fromThumb\n          });\n        }, this.s.speed);\n      } else {\n        _this.loadContent(index, true, _this.s.backdropDuration);\n        _this.lgBusy = false;\n        _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n          prevIndex: _prevIndex,\n          index: index,\n          fromTouch: fromTouch,\n          fromThumb: fromThumb\n        });\n      }\n      _this.lGalleryOn = true;\n      if (this.s.counter) {\n        if (document.getElementById('lg-counter-current')) {\n          document.getElementById('lg-counter-current').innerHTML = index + 1;\n        }\n      }\n    }\n  };\n\n  /**\n   *  @desc Go to next slide\n   *  @param {Boolean} fromTouch - true if slide function called via touch event\n   */\n  Plugin.prototype.goToNextSlide = function (fromTouch) {\n    var _this = this;\n    if (!_this.lgBusy) {\n      if (_this.index + 1 < _this.___slide.length) {\n        _this.index++;\n        _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n          index: _this.index\n        });\n        _this.slide(_this.index, fromTouch, false);\n      } else {\n        if (_this.s.loop) {\n          _this.index = 0;\n          _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n            index: _this.index\n          });\n          _this.slide(_this.index, fromTouch, false);\n        } else if (_this.s.slideEndAnimatoin) {\n          _lgUtils2.default.addClass(_this.outer, 'lg-right-end');\n          setTimeout(function () {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-right-end');\n          }, 400);\n        }\n      }\n    }\n  };\n\n  /**\n   *  @desc Go to previous slide\n   *  @param {Boolean} fromTouch - true if slide function called via touch event\n   */\n  Plugin.prototype.goToPrevSlide = function (fromTouch) {\n    var _this = this;\n    if (!_this.lgBusy) {\n      if (_this.index > 0) {\n        _this.index--;\n        _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n          index: _this.index,\n          fromTouch: fromTouch\n        });\n        _this.slide(_this.index, fromTouch, false);\n      } else {\n        if (_this.s.loop) {\n          _this.index = _this.items.length - 1;\n          _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n            index: _this.index,\n            fromTouch: fromTouch\n          });\n          _this.slide(_this.index, fromTouch, false);\n        } else if (_this.s.slideEndAnimatoin) {\n          _lgUtils2.default.addClass(_this.outer, 'lg-left-end');\n          setTimeout(function () {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-left-end');\n          }, 400);\n        }\n      }\n    }\n  };\n  Plugin.prototype.keyPress = function () {\n    var _this = this;\n    if (this.items.length > 1) {\n      _lgUtils2.default.on(window, 'keyup.lg', function (e) {\n        if (_this.items.length > 1) {\n          if (e.keyCode === 37) {\n            e.preventDefault();\n            _this.goToPrevSlide();\n          }\n          if (e.keyCode === 39) {\n            e.preventDefault();\n            _this.goToNextSlide();\n          }\n        }\n      });\n    }\n    _lgUtils2.default.on(window, 'keydown.lg', function (e) {\n      if (_this.s.escKey === true && e.keyCode === 27) {\n        e.preventDefault();\n        if (!_lgUtils2.default.hasClass(_this.outer, 'lg-thumb-open')) {\n          _this.destroy();\n        } else {\n          _lgUtils2.default.removeClass(_this.outer, 'lg-thumb-open');\n        }\n      }\n    });\n  };\n  Plugin.prototype.arrow = function () {\n    var _this = this;\n    _lgUtils2.default.on(this.outer.querySelector('.lg-prev'), 'click.lg', function () {\n      _this.goToPrevSlide();\n    });\n    _lgUtils2.default.on(this.outer.querySelector('.lg-next'), 'click.lg', function () {\n      _this.goToNextSlide();\n    });\n  };\n  Plugin.prototype.arrowDisable = function (index) {\n    // Disable arrows if s.hideControlOnEnd is true\n    if (!this.s.loop && this.s.hideControlOnEnd) {\n      var next = this.outer.querySelector('.lg-next');\n      var prev = this.outer.querySelector('.lg-prev');\n      if (index + 1 < this.___slide.length) {\n        next.removeAttribute('disabled');\n        _lgUtils2.default.removeClass(next, 'disabled');\n      } else {\n        next.setAttribute('disabled', 'disabled');\n        _lgUtils2.default.addClass(next, 'disabled');\n      }\n      if (index > 0) {\n        prev.removeAttribute('disabled');\n        _lgUtils2.default.removeClass(prev, 'disabled');\n      } else {\n        prev.setAttribute('disabled', 'disabled');\n        _lgUtils2.default.addClass(prev, 'disabled');\n      }\n    }\n  };\n  Plugin.prototype.setTranslate = function (el, xValue, yValue) {\n    // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n    if (this.s.useLeft) {\n      el.style.left = xValue;\n    } else {\n      _lgUtils2.default.setVendor(el, 'Transform', 'translate3d(' + xValue + 'px, ' + yValue + 'px, 0px)');\n    }\n  };\n  Plugin.prototype.touchMove = function (startCoords, endCoords) {\n    var distance = endCoords - startCoords;\n    if (Math.abs(distance) > 15) {\n      // reset opacity and transition duration\n      _lgUtils2.default.addClass(this.outer, 'lg-dragging');\n\n      // move current slide\n      this.setTranslate(this.___slide[this.index], distance, 0);\n\n      // move next and prev slide with current slide\n      this.setTranslate(document.querySelector('.lg-prev-slide'), -this.___slide[this.index].clientWidth + distance, 0);\n      this.setTranslate(document.querySelector('.lg-next-slide'), this.___slide[this.index].clientWidth + distance, 0);\n    }\n  };\n  Plugin.prototype.touchEnd = function (distance) {\n    var _this = this;\n\n    // keep slide animation for any mode while dragg/swipe\n    if (_this.s.mode !== 'lg-slide') {\n      _lgUtils2.default.addClass(_this.outer, 'lg-slide');\n    }\n    for (var i = 0; i < this.___slide.length; i++) {\n      if (!_lgUtils2.default.hasClass(this.___slide[i], 'lg-current') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-prev-slide') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-next-slide')) {\n        this.___slide[i].style.opacity = '0';\n      }\n    }\n\n    // set transition duration\n    setTimeout(function () {\n      _lgUtils2.default.removeClass(_this.outer, 'lg-dragging');\n      if (distance < 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n        _this.goToNextSlide(true);\n      } else if (distance > 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n        _this.goToPrevSlide(true);\n      } else if (Math.abs(distance) < 5) {\n        // Trigger click if distance is less than 5 pix\n        _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n      }\n      for (var i = 0; i < _this.___slide.length; i++) {\n        _this.___slide[i].removeAttribute('style');\n      }\n    });\n\n    // remove slide class once drag/swipe is completed if mode is not slide\n    setTimeout(function () {\n      if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging') && _this.s.mode !== 'lg-slide') {\n        _lgUtils2.default.removeClass(_this.outer, 'lg-slide');\n      }\n    }, _this.s.speed + 100);\n  };\n  Plugin.prototype.enableSwipe = function () {\n    var _this = this;\n    var startCoords = 0;\n    var endCoords = 0;\n    var isMoved = false;\n    if (_this.s.enableSwipe && _this.isTouch && _this.doCss()) {\n      for (var i = 0; i < _this.___slide.length; i++) {\n        /*jshint loopfunc: true */\n        _lgUtils2.default.on(_this.___slide[i], 'touchstart.lg', function (e) {\n          if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed') && !_this.lgBusy) {\n            e.preventDefault();\n            _this.manageSwipeClass();\n            startCoords = e.targetTouches[0].pageX;\n          }\n        });\n      }\n      for (var j = 0; j < _this.___slide.length; j++) {\n        /*jshint loopfunc: true */\n        _lgUtils2.default.on(_this.___slide[j], 'touchmove.lg', function (e) {\n          if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n            e.preventDefault();\n            endCoords = e.targetTouches[0].pageX;\n            _this.touchMove(startCoords, endCoords);\n            isMoved = true;\n          }\n        });\n      }\n      for (var k = 0; k < _this.___slide.length; k++) {\n        /*jshint loopfunc: true */\n        _lgUtils2.default.on(_this.___slide[k], 'touchend.lg', function () {\n          if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n            if (isMoved) {\n              isMoved = false;\n              _this.touchEnd(endCoords - startCoords);\n            } else {\n              _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n            }\n          }\n        });\n      }\n    }\n  };\n  Plugin.prototype.enableDrag = function () {\n    var _this = this;\n    var startCoords = 0;\n    var endCoords = 0;\n    var isDraging = false;\n    var isMoved = false;\n    if (_this.s.enableDrag && !_this.isTouch && _this.doCss()) {\n      for (var i = 0; i < _this.___slide.length; i++) {\n        /*jshint loopfunc: true */\n        _lgUtils2.default.on(_this.___slide[i], 'mousedown.lg', function (e) {\n          // execute only on .lg-object\n          if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n            if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n              e.preventDefault();\n              if (!_this.lgBusy) {\n                _this.manageSwipeClass();\n                startCoords = e.pageX;\n                isDraging = true;\n\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                _this.outer.scrollLeft += 1;\n                _this.outer.scrollLeft -= 1;\n\n                // *\n\n                _lgUtils2.default.removeClass(_this.outer, 'lg-grab');\n                _lgUtils2.default.addClass(_this.outer, 'lg-grabbing');\n                _lgUtils2.default.trigger(_this.el, 'onDragstart');\n              }\n            }\n          }\n        });\n      }\n      _lgUtils2.default.on(window, 'mousemove.lg', function (e) {\n        if (isDraging) {\n          isMoved = true;\n          endCoords = e.pageX;\n          _this.touchMove(startCoords, endCoords);\n          _lgUtils2.default.trigger(_this.el, 'onDragmove');\n        }\n      });\n      _lgUtils2.default.on(window, 'mouseup.lg', function (e) {\n        if (isMoved) {\n          isMoved = false;\n          _this.touchEnd(endCoords - startCoords);\n          _lgUtils2.default.trigger(_this.el, 'onDragend');\n        } else if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n          _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n        }\n\n        // Prevent execution on click\n        if (isDraging) {\n          isDraging = false;\n          _lgUtils2.default.removeClass(_this.outer, 'lg-grabbing');\n          _lgUtils2.default.addClass(_this.outer, 'lg-grab');\n        }\n      });\n    }\n  };\n  Plugin.prototype.manageSwipeClass = function () {\n    var touchNext = this.index + 1;\n    var touchPrev = this.index - 1;\n    var length = this.___slide.length;\n    if (this.s.loop) {\n      if (this.index === 0) {\n        touchPrev = length - 1;\n      } else if (this.index === length - 1) {\n        touchNext = 0;\n      }\n    }\n    for (var i = 0; i < this.___slide.length; i++) {\n      _lgUtils2.default.removeClass(this.___slide[i], 'lg-next-slide');\n      _lgUtils2.default.removeClass(this.___slide[i], 'lg-prev-slide');\n    }\n    if (touchPrev > -1) {\n      _lgUtils2.default.addClass(this.___slide[touchPrev], 'lg-prev-slide');\n    }\n    _lgUtils2.default.addClass(this.___slide[touchNext], 'lg-next-slide');\n  };\n  Plugin.prototype.mousewheel = function () {\n    var _this = this;\n    _lgUtils2.default.on(_this.outer, 'mousewheel.lg', function (e) {\n      if (!e.deltaY) {\n        return;\n      }\n      if (e.deltaY > 0) {\n        _this.goToPrevSlide();\n      } else {\n        _this.goToNextSlide();\n      }\n      e.preventDefault();\n    });\n  };\n  Plugin.prototype.closeGallery = function () {\n    var _this = this;\n    var mousedown = false;\n    _lgUtils2.default.on(this.outer.querySelector('.lg-close'), 'click.lg', function () {\n      _this.destroy();\n    });\n    if (_this.s.closable) {\n      // If you drag the slide and release outside gallery gets close on chrome\n      // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n      _lgUtils2.default.on(_this.outer, 'mousedown.lg', function (e) {\n        if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap')) {\n          mousedown = true;\n        } else {\n          mousedown = false;\n        }\n      });\n      _lgUtils2.default.on(_this.outer, 'mouseup.lg', function (e) {\n        if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap') && mousedown) {\n          if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging')) {\n            _this.destroy();\n          }\n        }\n      });\n    }\n  };\n  Plugin.prototype.destroy = function (d) {\n    var _this = this;\n    if (!d) {\n      _lgUtils2.default.trigger(_this.el, 'onBeforeClose');\n    }\n    document.body.scrollTop = _this.prevScrollTop;\n    document.documentElement.scrollTop = _this.prevScrollTop;\n\n    /**\n     * if d is false or undefined destroy will only close the gallery\n     * plugins instance remains with the element\n     *\n     * if d is true destroy will completely remove the plugin\n     */\n\n    if (d) {\n      if (!_this.s.dynamic) {\n        // only when not using dynamic mode is $items a jquery collection\n\n        for (var i = 0; i < this.items.length; i++) {\n          _lgUtils2.default.off(this.items[i], '.lg');\n          _lgUtils2.default.off(this.items[i], '.lgcustom');\n        }\n      }\n      var lguid = _this.el.getAttribute('lg-uid');\n      delete window.lgData[lguid];\n      _this.el.removeAttribute('lg-uid');\n    }\n\n    // Unbind all events added by lightGallery\n    _lgUtils2.default.off(this.el, '.lgtm');\n\n    // Distroy all lightGallery modules\n    for (var key in window.lgModules) {\n      if (_this.modules[key]) {\n        _this.modules[key].destroy(d);\n      }\n    }\n    this.lGalleryOn = false;\n    clearTimeout(_this.hideBartimeout);\n    this.hideBartimeout = false;\n    _lgUtils2.default.off(window, '.lg');\n    _lgUtils2.default.removeClass(document.body, 'lg-on');\n    _lgUtils2.default.removeClass(document.body, 'lg-from-hash');\n    if (_this.outer) {\n      _lgUtils2.default.removeClass(_this.outer, 'lg-visible');\n    }\n    _lgUtils2.default.removeClass(document.querySelector('.lg-backdrop'), 'in');\n    setTimeout(function () {\n      try {\n        if (_this.outer) {\n          _this.outer.parentNode.removeChild(_this.outer);\n        }\n        if (document.querySelector('.lg-backdrop')) {\n          document.querySelector('.lg-backdrop').parentNode.removeChild(document.querySelector('.lg-backdrop'));\n        }\n        if (!d) {\n          _lgUtils2.default.trigger(_this.el, 'onCloseAfter');\n        }\n        _this.el.focus();\n      } catch (err) {}\n    }, _this.s.backdropDuration + 50);\n  };\n  window.lightGallery = function (el, options) {\n    if (!el) {\n      return;\n    }\n    try {\n      if (!el.getAttribute('lg-uid')) {\n        var uid = 'lg' + window.lgData.uid++;\n        window.lgData[uid] = new Plugin(el, options);\n        el.setAttribute('lg-uid', uid);\n      } else {\n        window.lgData[el.getAttribute('lg-uid')].init();\n      }\n    } catch (err) {\n      console.error('lightGallery has not initiated properly', err);\n    }\n  };\n});","map":{"version":3,"names":["global","factory","define","amd","exports","require","mod","lgUtils","lightgallery","_lgUtils","_lgUtils2","_interopRequireDefault","obj","__esModule","default","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","window","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","utils","lgData","uid","lgModules","defaults","mode","cssEasing","easing","speed","height","width","addClass","startClass","backdropDuration","hideBarsDelay","useLeft","ariaLabelledby","ariaDescribedby","closable","loop","escKey","keyPress","controls","slideEndAnimatoin","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","showAfterLoad","selector","selectWithin","nextHtml","prevHtml","index","iframeMaxWidth","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","galleryId","supportLegacyBrowser","Plugin","element","options","el","s","constructor","Array","modules","lGalleryOn","lgBusy","hideBartimeout","isTouch","documentElement","items","push","querySelector","querySelectorAll","children","___slide","outer","init","_this","_hash","location","hash","indexOf","parseInt","split","body","hasClass","setTimeout","build","trigger","on","e","preventDefault","structure","slide","arrow","closeGallery","initialHideBarTimeout","clearTimeout","removeClass","list","subHtmlCont","template","insertAdjacentHTML","setVendor","focus","setTop","doCss","inner","prevScrollTop","scrollTop","wH","innerHeight","top","lGallery","style","support","transition","root","isVideo","src","html","getAttribute","html5","youtube","match","vimeo","dailymotion","vk","addHtml","subHtml","currentEle","fL","substring","innerHTML","j","loadContent","rec","delay","_hasPoster","_img","_src","_poster","_srcset","_sizes","_html","_alt","getResponsiveSrc","srcItms","rsWidth","rsSrc","__src","splice","wWidth","innerWidth","poster","alt","responsive","srcDyItms","srcset","sizes","iframe","_isVideo","videoClass","setAttribute","picturefill","elements","console","warn","_speed","fromTouch","fromThumb","_prevIndex","_length","_time","_next","_prev","downloadUrl","getElementById","prevIndex","arrowDisable","touchPrev","touchNext","goToNextSlide","goToPrevSlide","keyCode","destroy","next","prev","removeAttribute","setTranslate","xValue","yValue","left","touchMove","startCoords","endCoords","distance","Math","abs","clientWidth","touchEnd","opacity","isMoved","manageSwipeClass","targetTouches","pageX","k","isDraging","scrollLeft","deltaY","mousedown","d","off","lguid","parentNode","removeChild","err","lightGallery","error"],"sources":["/Users/kolt/Development/MapboxProject/map_app/node_modules/lightgallery.js/lib/js/lightgallery.js"],"sourcesContent":["(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['./lg-utils'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(require('./lg-utils'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(global.lgUtils);\n        global.lightgallery = mod.exports;\n    }\n})(this, function (_lgUtils) {\n    'use strict';\n\n    var _lgUtils2 = _interopRequireDefault(_lgUtils);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            for (var key in source) {\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n\n        return target;\n    };\n\n    /** Polyfill the CustomEvent() constructor functionality in Internet Explorer 9 and higher */\n    (function () {\n\n        if (typeof window.CustomEvent === 'function') {\n            return false;\n        }\n\n        function CustomEvent(event, params) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n            var evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n\n        CustomEvent.prototype = window.Event.prototype;\n\n        window.CustomEvent = CustomEvent;\n    })();\n\n    window.utils = _lgUtils2.default;\n    window.lgData = {\n        uid: 0\n    };\n\n    window.lgModules = {};\n    var defaults = {\n\n        mode: 'lg-slide',\n\n        // Ex : 'ease'\n        cssEasing: 'ease',\n\n        //'for jquery animation'\n        easing: 'linear',\n        speed: 600,\n        height: '100%',\n        width: '100%',\n        addClass: '',\n        startClass: 'lg-start-zoom',\n        backdropDuration: 150,\n\n        // Set 0, if u don't want to hide the controls \n        hideBarsDelay: 6000,\n\n        useLeft: false,\n\n        // aria-labelledby attribute fot gallery\n        ariaLabelledby: '',\n\n        //aria-describedby attribute for gallery\n        ariaDescribedby: '',\n\n        closable: true,\n        loop: true,\n        escKey: true,\n        keyPress: true,\n        controls: true,\n        slideEndAnimatoin: true,\n        hideControlOnEnd: false,\n        mousewheel: false,\n\n        getCaptionFromTitleOrAlt: true,\n\n        // .lg-item || '.lg-sub-html'\n        appendSubHtmlTo: '.lg-sub-html',\n\n        subHtmlSelectorRelative: false,\n\n        /**\n         * @desc number of preload slides\n         * will exicute only after the current slide is fully loaded.\n         *\n         * @ex you clicked on 4th image and if preload = 1 then 3rd slide and 5th\n         * slide will be loaded in the background after the 4th slide is fully loaded..\n         * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.. ... ...\n         *\n         */\n        preload: 1,\n        showAfterLoad: true,\n        selector: '',\n        selectWithin: '',\n        nextHtml: '',\n        prevHtml: '',\n\n        // 0, 1\n        index: false,\n\n        iframeMaxWidth: '100%',\n\n        download: true,\n        counter: true,\n        appendCounterTo: '.lg-toolbar',\n\n        swipeThreshold: 50,\n        enableSwipe: true,\n        enableDrag: true,\n\n        dynamic: false,\n        dynamicEl: [],\n        galleryId: 1,\n        supportLegacyBrowser: true\n    };\n\n    function Plugin(element, options) {\n\n        // Current lightGallery element\n        this.el = element;\n\n        // lightGallery settings\n        this.s = _extends({}, defaults, options);\n\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (this.s.dynamic && this.s.dynamicEl !== 'undefined' && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) {\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n        }\n\n        // lightGallery modules\n        this.modules = {};\n\n        // false when lightgallery complete first slide;\n        this.lGalleryOn = false;\n\n        this.lgBusy = false;\n\n        // Timeout function for hiding controls;\n        this.hideBartimeout = false;\n\n        // To determine browser supports for touch events;\n        this.isTouch = 'ontouchstart' in document.documentElement;\n\n        // Disable hideControlOnEnd if sildeEndAnimation is true\n        if (this.s.slideEndAnimatoin) {\n            this.s.hideControlOnEnd = false;\n        }\n\n        this.items = [];\n\n        // Gallery items\n        if (this.s.dynamic) {\n            this.items = this.s.dynamicEl;\n        } else {\n            if (this.s.selector === 'this') {\n                this.items.push(this.el);\n            } else if (this.s.selector !== '') {\n                if (this.s.selectWithin) {\n                    this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector);\n                } else {\n                    this.items = this.el.querySelectorAll(this.s.selector);\n                }\n            } else {\n                this.items = this.el.children;\n            }\n        }\n\n        // .lg-item\n\n        this.___slide = '';\n\n        // .lg-outer\n        this.outer = '';\n\n        this.init();\n\n        return this;\n    }\n\n    Plugin.prototype.init = function () {\n\n        var _this = this;\n\n        // s.preload should not be more than $item.length\n        if (_this.s.preload > _this.items.length) {\n            _this.s.preload = _this.items.length;\n        }\n\n        // if dynamic option is enabled execute immediately\n        var _hash = window.location.hash;\n        if (_hash.indexOf('lg=' + this.s.galleryId) > 0) {\n\n            _this.index = parseInt(_hash.split('&slide=')[1], 10);\n\n            _lgUtils2.default.addClass(document.body, 'lg-from-hash');\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        }\n\n        if (_this.s.dynamic) {\n\n            _lgUtils2.default.trigger(this.el, 'onBeforeOpen');\n\n            _this.index = _this.s.index || 0;\n\n            // prevent accidental double execution\n            if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                _lgUtils2.default.addClass(document.body, 'lg-on');\n                setTimeout(function () {\n                    _this.build(_this.index);\n                });\n            }\n        } else {\n\n            for (var i = 0; i < _this.items.length; i++) {\n\n                /*jshint loopfunc: true */\n                (function (index) {\n\n                    // Using different namespace for click because click event should not unbind if selector is same object('this')\n                    _lgUtils2.default.on(_this.items[index], 'click.lgcustom', function (e) {\n\n                        e.preventDefault();\n\n                        _lgUtils2.default.trigger(_this.el, 'onBeforeOpen');\n\n                        _this.index = _this.s.index || index;\n\n                        if (!_lgUtils2.default.hasClass(document.body, 'lg-on')) {\n                            _this.build(_this.index);\n                            _lgUtils2.default.addClass(document.body, 'lg-on');\n                        }\n                    });\n                })(i);\n            }\n        }\n    };\n\n    Plugin.prototype.build = function (index) {\n\n        var _this = this;\n\n        _this.structure();\n\n        for (var key in window.lgModules) {\n            _this.modules[key] = new window.lgModules[key](_this.el);\n        }\n\n        // initiate slide function\n        _this.slide(index, false, false);\n\n        if (_this.s.keyPress) {\n            _this.keyPress();\n        }\n\n        if (_this.items.length > 1) {\n\n            _this.arrow();\n\n            setTimeout(function () {\n                _this.enableDrag();\n                _this.enableSwipe();\n            }, 50);\n\n            if (_this.s.mousewheel) {\n                _this.mousewheel();\n            }\n        }\n\n        _this.counter();\n\n        _this.closeGallery();\n\n        _lgUtils2.default.trigger(_this.el, 'onAfterOpen');\n\n        // Hide controllers if mouse doesn't move for some period\n        if (_this.s.hideBarsDelay > 0) {\n\n            // Hide controls if user doesn't use mouse or touch after opening gallery\n            var initialHideBarTimeout = setTimeout(function () {\n                _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n            }, _this.s.hideBarsDelay);\n            _lgUtils2.default.on(_this.outer, 'mousemove.lg click.lg touchstart.lg', function () {\n\n                // Cancel initalHideBarTimout if user uses mouse or touch events\n                // Before it fires\n                clearTimeout(initialHideBarTimeout);\n\n                _lgUtils2.default.removeClass(_this.outer, 'lg-hide-items');\n\n                clearTimeout(_this.hideBartimeout);\n\n                // Timeout will be cleared on each slide movement also\n                _this.hideBartimeout = setTimeout(function () {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-hide-items');\n                }, _this.s.hideBarsDelay);\n            });\n        }\n    };\n\n    Plugin.prototype.structure = function () {\n        var list = '';\n        var controls = '';\n        var i = 0;\n        var subHtmlCont = '';\n        var template;\n        var _this = this;\n\n        document.body.insertAdjacentHTML('beforeend', '<div class=\"lg-backdrop\"></div>');\n        _lgUtils2.default.setVendor(document.querySelector('.lg-backdrop'), 'TransitionDuration', this.s.backdropDuration + 'ms');\n\n        // Create gallery items\n        for (i = 0; i < this.items.length; i++) {\n            list += '<div class=\"lg-item\"></div>';\n        }\n\n        // Create controlls\n        if (this.s.controls && this.items.length > 1) {\n            controls = '<div class=\"lg-actions\">' + '<button type=\"button\" aria-label=\"Previous slide\" class=\"lg-prev lg-icon\">' + this.s.prevHtml + '</button>' + '<button type=\"button\" aria-label=\"Next slide\" class=\"lg-next lg-icon\">' + this.s.nextHtml + '</button>' + '</div>';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            subHtmlCont = '<div role=\"status\" aria-live=\"polite\" class=\"lg-sub-html\"></div>';\n        }\n\n        var ariaLabelledby = this.s.ariaLabelledby ? 'aria-labelledby=\"' + this.s.ariaLabelledby + '\"' : '';\n        var ariaDescribedby = this.s.ariaDescribedby ? 'aria-describedby=\"' + this.s.ariaDescribedby + '\"' : '';\n\n        template = '<div tabindex=\"-1\" aria-modal=\"true\" ' + ariaLabelledby + ' ' + ariaDescribedby + ' role=\"dialog\" class=\"lg-outer ' + this.s.addClass + ' ' + this.s.startClass + '\">' + '<div class=\"lg\" style=\"width:' + this.s.width + '; height:' + this.s.height + '\">' + '<div class=\"lg-inner\">' + list + '</div>' + '<div class=\"lg-toolbar lg-group\">' + '<button type=\"button\" aria-label=\"Close gallery\" class=\"lg-close lg-icon\"></button>' + '</div>' + controls + subHtmlCont + '</div>' + '</div>';\n\n        document.body.insertAdjacentHTML('beforeend', template);\n        this.outer = document.querySelector('.lg-outer');\n        this.outer.focus();\n        this.___slide = this.outer.querySelectorAll('.lg-item');\n\n        if (this.s.useLeft) {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-left');\n\n            // Set mode lg-slide if use left is true;\n            this.s.mode = 'lg-slide';\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-use-css3');\n        }\n\n        // For fixed height gallery\n        _this.setTop();\n        _lgUtils2.default.on(window, 'resize.lg orientationchange.lg', function () {\n            setTimeout(function () {\n                _this.setTop();\n            }, 100);\n        });\n\n        // add class lg-current to remove initial transition\n        _lgUtils2.default.addClass(this.___slide[this.index], 'lg-current');\n\n        // add Class for css support and transition mode\n        if (this.doCss()) {\n            _lgUtils2.default.addClass(this.outer, 'lg-css3');\n        } else {\n            _lgUtils2.default.addClass(this.outer, 'lg-css');\n\n            // Set speed 0 because no animation will happen if browser doesn't support css3\n            this.s.speed = 0;\n        }\n\n        _lgUtils2.default.addClass(this.outer, this.s.mode);\n\n        if (this.s.enableDrag && this.items.length > 1) {\n            _lgUtils2.default.addClass(this.outer, 'lg-grab');\n        }\n\n        if (this.s.showAfterLoad) {\n            _lgUtils2.default.addClass(this.outer, 'lg-show-after-load');\n        }\n\n        if (this.doCss()) {\n            var inner = this.outer.querySelector('.lg-inner');\n            _lgUtils2.default.setVendor(inner, 'TransitionTimingFunction', this.s.cssEasing);\n            _lgUtils2.default.setVendor(inner, 'TransitionDuration', this.s.speed + 'ms');\n        }\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(document.querySelector('.lg-backdrop'), 'in');\n        });\n\n        setTimeout(function () {\n            _lgUtils2.default.addClass(_this.outer, 'lg-visible');\n        }, this.s.backdropDuration);\n\n        if (this.s.download) {\n            this.outer.querySelector('.lg-toolbar').insertAdjacentHTML('beforeend', '<a id=\"lg-download\" aria-label=\"Download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>');\n        }\n\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n    };\n\n    // For fixed height gallery\n    Plugin.prototype.setTop = function () {\n        if (this.s.height !== '100%') {\n            var wH = window.innerHeight;\n            var top = (wH - parseInt(this.s.height, 10)) / 2;\n            var lGallery = this.outer.querySelector('.lg');\n            if (wH >= parseInt(this.s.height, 10)) {\n                lGallery.style.top = top + 'px';\n            } else {\n                lGallery.style.top = '0px';\n            }\n        }\n    };\n\n    // Find css3 support\n    Plugin.prototype.doCss = function () {\n        // check for css animation support\n        var support = function support() {\n            var transition = ['transition', 'MozTransition', 'WebkitTransition', 'OTransition', 'msTransition', 'KhtmlTransition'];\n            var root = document.documentElement;\n            var i = 0;\n            for (i = 0; i < transition.length; i++) {\n                if (transition[i] in root.style) {\n                    return true;\n                }\n            }\n        };\n\n        if (support()) {\n            return true;\n        }\n\n        return false;\n    };\n\n    /**\n     *  @desc Check the given src is video\n     *  @param {String} src\n     *  @return {Object} video type\n     *  Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\n     */\n    Plugin.prototype.isVideo = function (src, index) {\n\n        var html;\n        if (this.s.dynamic) {\n            html = this.s.dynamicEl[index].html;\n        } else {\n            html = this.items[index].getAttribute('data-html');\n        }\n\n        if (!src && html) {\n            return {\n                html5: true\n            };\n        }\n\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\n        var vimeo = src.match(/\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i);\n        var dailymotion = src.match(/\\/\\/(?:www\\.)?dai.ly\\/([0-9a-z\\-_]+)/i);\n        var vk = src.match(/\\/\\/(?:www\\.)?(?:vk\\.com|vkontakte\\.ru)\\/(?:video_ext\\.php\\?)(.*)/i);\n\n        if (youtube) {\n            return {\n                youtube: youtube\n            };\n        } else if (vimeo) {\n            return {\n                vimeo: vimeo\n            };\n        } else if (dailymotion) {\n            return {\n                dailymotion: dailymotion\n            };\n        } else if (vk) {\n            return {\n                vk: vk\n            };\n        }\n    };\n\n    /**\n     *  @desc Create image counter\n     *  Ex: 1/10\n     */\n    Plugin.prototype.counter = function () {\n        if (this.s.counter) {\n            this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML('beforeend', '<div id=\"lg-counter\" role=\"status\" aria-live=\"polite\"><span id=\"lg-counter-current\">' + (parseInt(this.index, 10) + 1) + '</span> / <span id=\"lg-counter-all\">' + this.items.length + '</span></div>');\n        }\n    };\n\n    /**\n     *  @desc add sub-html into the slide\n     *  @param {Number} index - index of the slide\n     */\n    Plugin.prototype.addHtml = function (index) {\n        var subHtml = null;\n        var currentEle;\n        if (this.s.dynamic) {\n            subHtml = this.s.dynamicEl[index].subHtml;\n        } else {\n            currentEle = this.items[index];\n            subHtml = currentEle.getAttribute('data-sub-html');\n            if (this.s.getCaptionFromTitleOrAlt && !subHtml) {\n                subHtml = currentEle.getAttribute('title');\n                if (subHtml && currentEle.querySelector('img')) {\n                    subHtml = currentEle.querySelector('img').getAttribute('alt');\n                }\n            }\n        }\n\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n\n            // get first letter of subhtml\n            // if first letter starts with . or # get the html form the jQuery object\n            var fL = subHtml.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                if (this.s.subHtmlSelectorRelative && !this.s.dynamic) {\n                    subHtml = currentEle.querySelector(subHtml).innerHTML;\n                } else {\n                    subHtml = document.querySelector(subHtml).innerHTML;\n                }\n            }\n        } else {\n            subHtml = '';\n        }\n\n        if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n            this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = subHtml;\n        } else {\n            this.___slide[index].insertAdjacentHTML('beforeend', subHtml);\n        }\n\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n            if (subHtml === '') {\n                _lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            } else {\n                _lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), 'lg-empty-html');\n            }\n        }\n\n        _lgUtils2.default.trigger(this.el, 'onAfterAppendSubHtml', {\n            index: index\n        });\n    };\n\n    /**\n     *  @desc Preload slides\n     *  @param {Number} index - index of the slide\n     */\n    Plugin.prototype.preload = function (index) {\n        var i = 1;\n        var j = 1;\n        for (i = 1; i <= this.s.preload; i++) {\n            if (i >= this.items.length - index) {\n                break;\n            }\n\n            this.loadContent(index + i, false, 0);\n        }\n\n        for (j = 1; j <= this.s.preload; j++) {\n            if (index - j < 0) {\n                break;\n            }\n\n            this.loadContent(index - j, false, 0);\n        }\n    };\n\n    /**\n     *  @desc Load slide content into slide.\n     *  @param {Number} index - index of the slide.\n     *  @param {Boolean} rec - if true call loadcontent() function again.\n     *  @param {Boolean} delay - delay for adding complete class. it is 0 except first time.\n     */\n    Plugin.prototype.loadContent = function (index, rec, delay) {\n\n        var _this = this;\n        var _hasPoster = false;\n        var _img;\n        var _src;\n        var _poster;\n        var _srcset;\n        var _sizes;\n        var _html;\n        var _alt;\n        var getResponsiveSrc = function getResponsiveSrc(srcItms) {\n            var rsWidth = [];\n            var rsSrc = [];\n            for (var i = 0; i < srcItms.length; i++) {\n                var __src = srcItms[i].split(' ');\n\n                // Manage empty space\n                if (__src[0] === '') {\n                    __src.splice(0, 1);\n                }\n\n                rsSrc.push(__src[0]);\n                rsWidth.push(__src[1]);\n            }\n\n            var wWidth = window.innerWidth;\n            for (var j = 0; j < rsWidth.length; j++) {\n                if (parseInt(rsWidth[j], 10) > wWidth) {\n                    _src = rsSrc[j];\n                    break;\n                }\n            }\n        };\n\n        if (_this.s.dynamic) {\n\n            if (_this.s.dynamicEl[index].poster) {\n                _hasPoster = true;\n                _poster = _this.s.dynamicEl[index].poster;\n            }\n\n            _html = _this.s.dynamicEl[index].html;\n            _src = _this.s.dynamicEl[index].src;\n            _alt = _this.s.dynamicEl[index].alt;\n\n            if (_this.s.dynamicEl[index].responsive) {\n                var srcDyItms = _this.s.dynamicEl[index].responsive.split(',');\n                getResponsiveSrc(srcDyItms);\n            }\n\n            _srcset = _this.s.dynamicEl[index].srcset;\n            _sizes = _this.s.dynamicEl[index].sizes;\n        } else {\n\n            if (_this.items[index].getAttribute('data-poster')) {\n                _hasPoster = true;\n                _poster = _this.items[index].getAttribute('data-poster');\n            }\n\n            _html = _this.items[index].getAttribute('data-html');\n            _src = _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src');\n            _alt = _this.items[index].getAttribute('title');\n\n            if (_this.items[index].querySelector('img')) {\n                _alt = _alt || _this.items[index].querySelector('img').getAttribute('alt');\n            }\n\n            if (_this.items[index].getAttribute('data-responsive')) {\n                var srcItms = _this.items[index].getAttribute('data-responsive').split(',');\n                getResponsiveSrc(srcItms);\n            }\n\n            _srcset = _this.items[index].getAttribute('data-srcset');\n            _sizes = _this.items[index].getAttribute('data-sizes');\n        }\n\n        //if (_src || _srcset || _sizes || _poster) {\n\n        var iframe = false;\n        if (_this.s.dynamic) {\n            if (_this.s.dynamicEl[index].iframe) {\n                iframe = true;\n            }\n        } else {\n            if (_this.items[index].getAttribute('data-iframe') === 'true') {\n                iframe = true;\n            }\n        }\n\n        var _isVideo = _this.isVideo(_src, index);\n        if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-loaded')) {\n            if (iframe) {\n                _this.___slide[index].insertAdjacentHTML('afterbegin', '<div class=\"lg-video-cont\" style=\"max-width:' + _this.s.iframeMaxWidth + '\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\"' + _src + '\"  allowfullscreen=\"true\"></iframe></div></div>');\n            } else if (_hasPoster) {\n                var videoClass = '';\n                if (_isVideo && _isVideo.youtube) {\n                    videoClass = 'lg-has-youtube';\n                } else if (_isVideo && _isVideo.vimeo) {\n                    videoClass = 'lg-has-vimeo';\n                } else {\n                    videoClass = 'lg-has-html5';\n                }\n\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont ' + videoClass + ' \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\"' + _poster + '\" /></div></div>');\n            } else if (_isVideo) {\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>');\n                _lgUtils2.default.trigger(_this.el, 'hasVideo', {\n                    index: index,\n                    src: _src,\n                    html: _html\n                });\n            } else {\n                _alt = _alt ? 'alt=\"' + _alt + '\"' : '';\n                _this.___slide[index].insertAdjacentHTML('beforeend', '<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" ' + _alt + ' src=\"' + _src + '\" /></div>');\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onAferAppendSlide', {\n                index: index\n            });\n\n            _img = _this.___slide[index].querySelector('.lg-object');\n            if (_sizes) {\n                _img.setAttribute('sizes', _sizes);\n            }\n\n            if (_srcset) {\n                _img.setAttribute('srcset', _srcset);\n\n                if (this.s.supportLegacyBrowser) {\n                    try {\n                        picturefill({\n                            elements: [_img[0]]\n                        });\n                    } catch (e) {\n                        console.warn('If you want srcset to be supported for older browsers, ' + 'please include picturefil javascript library in your document.');\n                    }\n                }\n            }\n\n            if (this.s.appendSubHtmlTo !== '.lg-sub-html') {\n                _this.addHtml(index);\n            }\n\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-loaded');\n        }\n\n        _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n\n            // For first time add some delay for displaying the start animation.\n            var _speed = 0;\n\n            // Do not change the delay value because it is required for zoom plugin.\n            // If gallery opened from direct url (hash) speed value should be 0\n            if (delay && !_lgUtils2.default.hasClass(document.body, 'lg-from-hash')) {\n                _speed = delay;\n            }\n\n            setTimeout(function () {\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n\n                _lgUtils2.default.trigger(_this.el, 'onSlideItemLoad', {\n                    index: index,\n                    delay: delay || 0\n                });\n            }, _speed);\n        });\n\n        // @todo check load state for html5 videos\n        if (_isVideo && _isVideo.html5 && !_hasPoster) {\n            _lgUtils2.default.addClass(_this.___slide[index], 'lg-complete');\n        }\n\n        if (rec === true) {\n            if (!_lgUtils2.default.hasClass(_this.___slide[index], 'lg-complete')) {\n                _lgUtils2.default.on(_this.___slide[index].querySelector('.lg-object'), 'load.lg error.lg', function () {\n                    _this.preload(index);\n                });\n            } else {\n                _this.preload(index);\n            }\n        }\n\n        //}\n    };\n\n    /**\n    *   @desc slide function for lightgallery\n        ** Slide() gets call on start\n        ** ** Set lg.on true once slide() function gets called.\n        ** Call loadContent() on slide() function inside setTimeout\n        ** ** On first slide we do not want any animation like slide of fade\n        ** ** So on first slide( if lg.on if false that is first slide) loadContent() should start loading immediately\n        ** ** Else loadContent() should wait for the transition to complete.\n        ** ** So set timeout s.speed + 50\n    <=> ** loadContent() will load slide content in to the particular slide\n        ** ** It has recursion (rec) parameter. if rec === true loadContent() will call preload() function.\n        ** ** preload will execute only when the previous slide is fully loaded (images iframe)\n        ** ** avoid simultaneous image load\n    <=> ** Preload() will check for s.preload value and call loadContent() again accoring to preload value\n        ** loadContent()  <====> Preload();\n    \n    *   @param {Number} index - index of the slide\n    *   @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\n    *   @param {Boolean} fromThumb - true if slide function called via thumbnail click\n    */\n    Plugin.prototype.slide = function (index, fromTouch, fromThumb) {\n\n        var _prevIndex = 0;\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (_lgUtils2.default.hasClass(this.___slide[i], 'lg-current')) {\n                _prevIndex = i;\n                break;\n            }\n        }\n\n        var _this = this;\n\n        // Prevent if multiple call\n        // Required for hsh plugin\n        if (_this.lGalleryOn && _prevIndex === index) {\n            return;\n        }\n\n        var _length = this.___slide.length;\n        var _time = _this.lGalleryOn ? this.s.speed : 0;\n        var _next = false;\n        var _prev = false;\n\n        if (!_this.lgBusy) {\n\n            if (this.s.download) {\n                var _src;\n                if (_this.s.dynamic) {\n                    _src = _this.s.dynamicEl[index].downloadUrl !== false && (_this.s.dynamicEl[index].downloadUrl || _this.s.dynamicEl[index].src);\n                } else {\n                    _src = _this.items[index].getAttribute('data-download-url') !== 'false' && (_this.items[index].getAttribute('data-download-url') || _this.items[index].getAttribute('href') || _this.items[index].getAttribute('data-src'));\n                }\n\n                if (_src) {\n                    document.getElementById('lg-download').setAttribute('href', _src);\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-hide-download');\n                } else {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-hide-download');\n                }\n            }\n\n            _lgUtils2.default.trigger(_this.el, 'onBeforeSlide', {\n                prevIndex: _prevIndex,\n                index: index,\n                fromTouch: fromTouch,\n                fromThumb: fromThumb\n            });\n\n            _this.lgBusy = true;\n\n            clearTimeout(_this.hideBartimeout);\n\n            // Add title if this.s.appendSubHtmlTo === lg-sub-html\n            if (this.s.appendSubHtmlTo === '.lg-sub-html') {\n\n                // wait for slide animation to complete\n                setTimeout(function () {\n                    _this.addHtml(index);\n                }, _time);\n            }\n\n            this.arrowDisable(index);\n\n            if (!fromTouch) {\n\n                // remove all transitions\n                _lgUtils2.default.addClass(_this.outer, 'lg-no-trans');\n\n                for (var j = 0; j < this.___slide.length; j++) {\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-prev-slide');\n                    _lgUtils2.default.removeClass(this.___slide[j], 'lg-next-slide');\n                }\n\n                if (index < _prevIndex) {\n                    _prev = true;\n                    if (index === 0 && _prevIndex === _length - 1 && !fromThumb) {\n                        _prev = false;\n                        _next = true;\n                    }\n                } else if (index > _prevIndex) {\n                    _next = true;\n                    if (index === _length - 1 && _prevIndex === 0 && !fromThumb) {\n                        _prev = true;\n                        _next = false;\n                    }\n                }\n\n                if (_prev) {\n\n                    //prevslide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-prev-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-next-slide');\n                } else if (_next) {\n\n                    // next slide\n                    _lgUtils2.default.addClass(this.___slide[index], 'lg-next-slide');\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], 'lg-prev-slide');\n                }\n\n                // give 50 ms for browser to add/remove class\n                setTimeout(function () {\n                    _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n\n                    //_this.$slide.eq(_prevIndex).removeClass('lg-current');\n                    _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n\n                    // reset all transitions\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-no-trans');\n                }, 50);\n            } else {\n\n                var touchPrev = index - 1;\n                var touchNext = index + 1;\n\n                if (index === 0 && _prevIndex === _length - 1) {\n\n                    // next slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                } else if (index === _length - 1 && _prevIndex === 0) {\n\n                    // prev slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                }\n\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-prev-slide'), 'lg-prev-slide');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-current'), 'lg-current');\n                _lgUtils2.default.removeClass(_this.outer.querySelector('.lg-next-slide'), 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchPrev], 'lg-prev-slide');\n                _lgUtils2.default.addClass(_this.___slide[touchNext], 'lg-next-slide');\n                _lgUtils2.default.addClass(_this.___slide[index], 'lg-current');\n            }\n\n            if (_this.lGalleryOn) {\n                setTimeout(function () {\n                    _this.loadContent(index, true, 0);\n                }, this.s.speed + 50);\n\n                setTimeout(function () {\n                    _this.lgBusy = false;\n                    _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                        prevIndex: _prevIndex,\n                        index: index,\n                        fromTouch: fromTouch,\n                        fromThumb: fromThumb\n                    });\n                }, this.s.speed);\n            } else {\n                _this.loadContent(index, true, _this.s.backdropDuration);\n\n                _this.lgBusy = false;\n                _lgUtils2.default.trigger(_this.el, 'onAfterSlide', {\n                    prevIndex: _prevIndex,\n                    index: index,\n                    fromTouch: fromTouch,\n                    fromThumb: fromThumb\n                });\n            }\n\n            _this.lGalleryOn = true;\n\n            if (this.s.counter) {\n                if (document.getElementById('lg-counter-current')) {\n                    document.getElementById('lg-counter-current').innerHTML = index + 1;\n                }\n            }\n        }\n    };\n\n    /**\n     *  @desc Go to next slide\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\n     */\n    Plugin.prototype.goToNextSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index + 1 < _this.___slide.length) {\n                _this.index++;\n                _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                    index: _this.index\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = 0;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforeNextSlide', {\n                        index: _this.index\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-right-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-right-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    /**\n     *  @desc Go to previous slide\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\n     */\n    Plugin.prototype.goToPrevSlide = function (fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index > 0) {\n                _this.index--;\n                _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                    index: _this.index,\n                    fromTouch: fromTouch\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = _this.items.length - 1;\n                    _lgUtils2.default.trigger(_this.el, 'onBeforePrevSlide', {\n                        index: _this.index,\n                        fromTouch: fromTouch\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, 'lg-left-end');\n                    setTimeout(function () {\n                        _lgUtils2.default.removeClass(_this.outer, 'lg-left-end');\n                    }, 400);\n                }\n            }\n        }\n    };\n\n    Plugin.prototype.keyPress = function () {\n        var _this = this;\n        if (this.items.length > 1) {\n            _lgUtils2.default.on(window, 'keyup.lg', function (e) {\n                if (_this.items.length > 1) {\n                    if (e.keyCode === 37) {\n                        e.preventDefault();\n                        _this.goToPrevSlide();\n                    }\n\n                    if (e.keyCode === 39) {\n                        e.preventDefault();\n                        _this.goToNextSlide();\n                    }\n                }\n            });\n        }\n\n        _lgUtils2.default.on(window, 'keydown.lg', function (e) {\n            if (_this.s.escKey === true && e.keyCode === 27) {\n                e.preventDefault();\n                if (!_lgUtils2.default.hasClass(_this.outer, 'lg-thumb-open')) {\n                    _this.destroy();\n                } else {\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-thumb-open');\n                }\n            }\n        });\n    };\n\n    Plugin.prototype.arrow = function () {\n        var _this = this;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-prev'), 'click.lg', function () {\n            _this.goToPrevSlide();\n        });\n\n        _lgUtils2.default.on(this.outer.querySelector('.lg-next'), 'click.lg', function () {\n            _this.goToNextSlide();\n        });\n    };\n\n    Plugin.prototype.arrowDisable = function (index) {\n\n        // Disable arrows if s.hideControlOnEnd is true\n        if (!this.s.loop && this.s.hideControlOnEnd) {\n            var next = this.outer.querySelector('.lg-next');\n            var prev = this.outer.querySelector('.lg-prev');\n            if (index + 1 < this.___slide.length) {\n                next.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(next, 'disabled');\n            } else {\n                next.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(next, 'disabled');\n            }\n\n            if (index > 0) {\n                prev.removeAttribute('disabled');\n                _lgUtils2.default.removeClass(prev, 'disabled');\n            } else {\n                prev.setAttribute('disabled', 'disabled');\n                _lgUtils2.default.addClass(prev, 'disabled');\n            }\n        }\n    };\n\n    Plugin.prototype.setTranslate = function (el, xValue, yValue) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        if (this.s.useLeft) {\n            el.style.left = xValue;\n        } else {\n            _lgUtils2.default.setVendor(el, 'Transform', 'translate3d(' + xValue + 'px, ' + yValue + 'px, 0px)');\n        }\n    };\n\n    Plugin.prototype.touchMove = function (startCoords, endCoords) {\n\n        var distance = endCoords - startCoords;\n\n        if (Math.abs(distance) > 15) {\n            // reset opacity and transition duration\n            _lgUtils2.default.addClass(this.outer, 'lg-dragging');\n\n            // move current slide\n            this.setTranslate(this.___slide[this.index], distance, 0);\n\n            // move next and prev slide with current slide\n            this.setTranslate(document.querySelector('.lg-prev-slide'), -this.___slide[this.index].clientWidth + distance, 0);\n            this.setTranslate(document.querySelector('.lg-next-slide'), this.___slide[this.index].clientWidth + distance, 0);\n        }\n    };\n\n    Plugin.prototype.touchEnd = function (distance) {\n        var _this = this;\n\n        // keep slide animation for any mode while dragg/swipe\n        if (_this.s.mode !== 'lg-slide') {\n            _lgUtils2.default.addClass(_this.outer, 'lg-slide');\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            if (!_lgUtils2.default.hasClass(this.___slide[i], 'lg-current') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-prev-slide') && !_lgUtils2.default.hasClass(this.___slide[i], 'lg-next-slide')) {\n                this.___slide[i].style.opacity = '0';\n            }\n        }\n\n        // set transition duration\n        setTimeout(function () {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-dragging');\n            if (distance < 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToNextSlide(true);\n            } else if (distance > 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToPrevSlide(true);\n            } else if (Math.abs(distance) < 5) {\n\n                // Trigger click if distance is less than 5 pix\n                _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n            }\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                _this.___slide[i].removeAttribute('style');\n            }\n        });\n\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(function () {\n            if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging') && _this.s.mode !== 'lg-slide') {\n                _lgUtils2.default.removeClass(_this.outer, 'lg-slide');\n            }\n        }, _this.s.speed + 100);\n    };\n\n    Plugin.prototype.enableSwipe = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n\n        if (_this.s.enableSwipe && _this.isTouch && _this.doCss()) {\n\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'touchstart.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed') && !_this.lgBusy) {\n                        e.preventDefault();\n                        _this.manageSwipeClass();\n                        startCoords = e.targetTouches[0].pageX;\n                    }\n                });\n            }\n\n            for (var j = 0; j < _this.___slide.length; j++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[j], 'touchmove.lg', function (e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        e.preventDefault();\n                        endCoords = e.targetTouches[0].pageX;\n                        _this.touchMove(startCoords, endCoords);\n                        isMoved = true;\n                    }\n                });\n            }\n\n            for (var k = 0; k < _this.___slide.length; k++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[k], 'touchend.lg', function () {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (isMoved) {\n                            isMoved = false;\n                            _this.touchEnd(endCoords - startCoords);\n                        } else {\n                            _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                        }\n                    }\n                });\n            }\n        }\n    };\n\n    Plugin.prototype.enableDrag = function () {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        if (_this.s.enableDrag && !_this.isTouch && _this.doCss()) {\n            for (var i = 0; i < _this.___slide.length; i++) {\n                /*jshint loopfunc: true */\n                _lgUtils2.default.on(_this.___slide[i], 'mousedown.lg', function (e) {\n                    // execute only on .lg-object\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-zoomed')) {\n                        if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                            e.preventDefault();\n\n                            if (!_this.lgBusy) {\n                                _this.manageSwipeClass();\n                                startCoords = e.pageX;\n                                isDraging = true;\n\n                                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                                _this.outer.scrollLeft += 1;\n                                _this.outer.scrollLeft -= 1;\n\n                                // *\n\n                                _lgUtils2.default.removeClass(_this.outer, 'lg-grab');\n                                _lgUtils2.default.addClass(_this.outer, 'lg-grabbing');\n\n                                _lgUtils2.default.trigger(_this.el, 'onDragstart');\n                            }\n                        }\n                    }\n                });\n            }\n\n            _lgUtils2.default.on(window, 'mousemove.lg', function (e) {\n                if (isDraging) {\n                    isMoved = true;\n                    endCoords = e.pageX;\n                    _this.touchMove(startCoords, endCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragmove');\n                }\n            });\n\n            _lgUtils2.default.on(window, 'mouseup.lg', function (e) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.touchEnd(endCoords - startCoords);\n                    _lgUtils2.default.trigger(_this.el, 'onDragend');\n                } else if (_lgUtils2.default.hasClass(e.target, 'lg-object') || _lgUtils2.default.hasClass(e.target, 'lg-video-play')) {\n                    _lgUtils2.default.trigger(_this.el, 'onSlideClick');\n                }\n\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    _lgUtils2.default.removeClass(_this.outer, 'lg-grabbing');\n                    _lgUtils2.default.addClass(_this.outer, 'lg-grab');\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.manageSwipeClass = function () {\n        var touchNext = this.index + 1;\n        var touchPrev = this.index - 1;\n        var length = this.___slide.length;\n        if (this.s.loop) {\n            if (this.index === 0) {\n                touchPrev = length - 1;\n            } else if (this.index === length - 1) {\n                touchNext = 0;\n            }\n        }\n\n        for (var i = 0; i < this.___slide.length; i++) {\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-next-slide');\n            _lgUtils2.default.removeClass(this.___slide[i], 'lg-prev-slide');\n        }\n\n        if (touchPrev > -1) {\n            _lgUtils2.default.addClass(this.___slide[touchPrev], 'lg-prev-slide');\n        }\n\n        _lgUtils2.default.addClass(this.___slide[touchNext], 'lg-next-slide');\n    };\n\n    Plugin.prototype.mousewheel = function () {\n        var _this = this;\n        _lgUtils2.default.on(_this.outer, 'mousewheel.lg', function (e) {\n\n            if (!e.deltaY) {\n                return;\n            }\n\n            if (e.deltaY > 0) {\n                _this.goToPrevSlide();\n            } else {\n                _this.goToNextSlide();\n            }\n\n            e.preventDefault();\n        });\n    };\n\n    Plugin.prototype.closeGallery = function () {\n\n        var _this = this;\n        var mousedown = false;\n        _lgUtils2.default.on(this.outer.querySelector('.lg-close'), 'click.lg', function () {\n            _this.destroy();\n        });\n\n        if (_this.s.closable) {\n\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            _lgUtils2.default.on(_this.outer, 'mousedown.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap')) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n\n            _lgUtils2.default.on(_this.outer, 'mouseup.lg', function (e) {\n\n                if (_lgUtils2.default.hasClass(e.target, 'lg-outer') || _lgUtils2.default.hasClass(e.target, 'lg-item') || _lgUtils2.default.hasClass(e.target, 'lg-img-wrap') && mousedown) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, 'lg-dragging')) {\n                        _this.destroy();\n                    }\n                }\n            });\n        }\n    };\n\n    Plugin.prototype.destroy = function (d) {\n\n        var _this = this;\n\n        if (!d) {\n            _lgUtils2.default.trigger(_this.el, 'onBeforeClose');\n        }\n\n        document.body.scrollTop = _this.prevScrollTop;\n        document.documentElement.scrollTop = _this.prevScrollTop;\n\n        /**\n         * if d is false or undefined destroy will only close the gallery\n         * plugins instance remains with the element\n         *\n         * if d is true destroy will completely remove the plugin\n         */\n\n        if (d) {\n            if (!_this.s.dynamic) {\n                // only when not using dynamic mode is $items a jquery collection\n\n                for (var i = 0; i < this.items.length; i++) {\n                    _lgUtils2.default.off(this.items[i], '.lg');\n                    _lgUtils2.default.off(this.items[i], '.lgcustom');\n                }\n            }\n\n            var lguid = _this.el.getAttribute('lg-uid');\n            delete window.lgData[lguid];\n            _this.el.removeAttribute('lg-uid');\n        }\n\n        // Unbind all events added by lightGallery\n        _lgUtils2.default.off(this.el, '.lgtm');\n\n        // Distroy all lightGallery modules\n        for (var key in window.lgModules) {\n            if (_this.modules[key]) {\n                _this.modules[key].destroy(d);\n            }\n        }\n\n        this.lGalleryOn = false;\n\n        clearTimeout(_this.hideBartimeout);\n        this.hideBartimeout = false;\n        _lgUtils2.default.off(window, '.lg');\n        _lgUtils2.default.removeClass(document.body, 'lg-on');\n        _lgUtils2.default.removeClass(document.body, 'lg-from-hash');\n\n        if (_this.outer) {\n            _lgUtils2.default.removeClass(_this.outer, 'lg-visible');\n        }\n\n        _lgUtils2.default.removeClass(document.querySelector('.lg-backdrop'), 'in');\n        setTimeout(function () {\n            try {\n                if (_this.outer) {\n                    _this.outer.parentNode.removeChild(_this.outer);\n                }\n\n                if (document.querySelector('.lg-backdrop')) {\n                    document.querySelector('.lg-backdrop').parentNode.removeChild(document.querySelector('.lg-backdrop'));\n                }\n\n                if (!d) {\n                    _lgUtils2.default.trigger(_this.el, 'onCloseAfter');\n                }\n                _this.el.focus();\n            } catch (err) {}\n        }, _this.s.backdropDuration + 50);\n    };\n\n    window.lightGallery = function (el, options) {\n        if (!el) {\n            return;\n        }\n\n        try {\n            if (!el.getAttribute('lg-uid')) {\n                var uid = 'lg' + window.lgData.uid++;\n                window.lgData[uid] = new Plugin(el, options);\n                el.setAttribute('lg-uid', uid);\n            } else {\n                window.lgData[el.getAttribute('lg-uid')].init();\n            }\n        } catch (err) {\n            console.error('lightGallery has not initiated properly', err);\n        }\n    };\n});"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}